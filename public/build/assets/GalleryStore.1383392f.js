import{a as U,P as c}from"./PsApiService.16e28b45.js";import{D as d}from"./DefaultPhoto.cc755f93.js";import{A as m}from"./ApiStatus.5720ba0b.js";import{P as A}from"./PsUtils.aa012712.js";import{aB as _,B as g,i as B}from"./app.94623934.js";import{m as R}from"./PsSepetetedStore.9a31ac47.js";const j=R(p=>_(`galleryUsStore/${p}`,()=>{const t=g(new U),s=g({value:!1}),r=g({value:!1});let o=B(30),n=0;function v(e){var l,a;t!=null&&t.data!=null&&t.data.length>0&&n!=0?(e.data!=null&&e.data.length>0?(((l=e.data)==null?void 0:l.length)<o.value?r.value=!0:r.value=!1,t.data.push(...e.data)):(((a=e.data)==null?void 0:a.length)<o.value||e.data==null?r.value=!0:r.value=!1,r.value=!0),t.code=e.code,t.status=e.status,t.message=e.message):(t.data=e.data,t.code=e.code,t.status=e.status,t.message=e.message),t!=null&&t.data!=null&&(n=t.data.length)}async function w(e,l,a,u,i){s.value=!0;const f=await c.getImageList(new d,l,a,u,o.value,n);return e=="1"&&i!=null&&i!=null&&i.imgId!=""&&i.imgId!=null&&f.data.unshift(i),A.log(f),v(f),s.value=!1,f}async function y(){t.data=[],s.value=!1,r.value=!1,o.value=30,n=0}async function I(e,l,a){n=0,s.value=!0;const u=await c.getImageList(new d,e,l,a,o.value,n);v(u)}async function h(e,l){s.value=!0;const a={};a.img_id=e;const u=await c.deleteImage(new m,o.value,n,l,a);return s.value=!1,u}async function S(e,l){s.value=!0;const a={};a.img_id=e;const u=await c.deleteVideo(new m,o.value,n,l,a);return s.value=!1,u}async function L(e,l,a,u,i,f,C){s.value=!0;const G=await c.postChatImageUpload(new d,e,l,a,u,i,f,C);return s.value=!1,G}async function P(e,l){s.value=!0;const a={};a.file_name=e;const u=await c.postChatImageDelete(new m,l,a);return s.value=!1,u}return{galleryList:t,loading:s,isNoMoreRecord:r,limit:o,offset:n,loadGalleryList:w,resetGalleryList:I,deleteImage:h,deleteVideo:S,postChatImageUpload:L,postChatImageDelete:P,resetData:y}}));export{j as u};
