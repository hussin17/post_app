import{H as L,i as u,j as U,r as s,o as g,c as B,b as t,a as d,w as a,p as n,t as l,ax as V,f as P,g as C,F as $}from"./app.94623934.js";import D from"./PsLabel.6f218a30.js";import S from"./PsLabelTitle.251aaca7.js";import H from"./PsLabelCaption.106a532d.js";import I from"./PsButton.3558548a.js";import T from"./PsInput.2f284d63.js";import j from"./UserPhoneLoginVerificationModal.f47fc861.js";import A from"./PsErrorDialog.951313ff.js";import{P as q}from"./PsValueStore.4aa1bdc1.js";import{u as z,P as E}from"./UserProvider.f22e16f7.js";import{_ as F}from"./plugin-vue_export-helper.21dcd24c.js";import"https://checkout.razorpay.com/v1/checkout.js";import"./PsModal.3bf2e071.js";import"./vue-neat-modal.b0ab9d44.js";import"./PsLine.9a56d1e4.js";import"./PsApiService.16e28b45.js";import"./User.fb568515.js";import"./PsObject.a17ef38f.js";import"./RatingDetail.291ad5d1.js";import"./UserListParameterHolder.d110b747.js";import"./DefaultPhoto.cc755f93.js";import"./ps_constants.1e4471b7.js";import"./ApiStatus.5720ba0b.js";const M={name:"PhoneLoginView",components:{PsLabel:D,PsLabelTitle:S,PsButton:I,PsInput:T,UserPhoneLoginVerificationModal:j,PsErrorDialog:A,PsLabelCaption:H,Head:L},setup(){const e=z(),r=new E,o=q().getLoginUserId(),i=u(),y=u(),m=u(!1),c=u(!1),h=u(),v=u();e.loading.value=!0;function p(){e.loading.value=!0,setTimeout(()=>{e.loading.value=!1},1e3)}U(()=>{p()});function k(){}async function b(){let _=!0;if((i.value==""||i.value==null)&&(m.value=!0,_=!1),(i.value==""||i.value==null)&&(c.value=!0,_=!1),!_){window.scrollTo(0,0);return}r.phoneId=o,r.userName=i.value,r.userPhone=y.value,e.loading.value=!0,e.loading.value=!1}function x(_){/^\/$|(\/[a-zA-Z_0-9-]+)+$/.test(_.target.value)?m.value=!0:m.value=!1}function f(_){/^\/$|(\/[a-zA-Z_0-9-]+)+$/.test(_.target.value)?c.value=!0:c.value=!1}return{userProvider:e,clicked:b,name:i,phone:y,user_phone_login_verification_modal:h,ps_error_dialog:v,loginClicked:k,isValidUserName:m,validateName:x,validatePhone:f,isValidPhone:c}}},Z={class:"sm:mt-28 lg:mt-28 mt-28 bg-fePrimary-500 dark:bg-fePrimaryDark-accent h-screen flex flex-col"},G={class:"mt-56 w-96 flex flex-col mx-auto bg-feBackground dark:bg-feBackgroundDark m-auto rounded-lg"},J=d("div",{id:"recaptcha-container"},null,-1),O=n(),Q=d("br",null,null,-1),R={class:"flex items-center justify-center mb-4"},W={class:"flex flex-auto justify-center mt-4 mb-10"};function X(e,r,K,o,i,y){const m=s("Head"),c=s("ps-label-title"),h=s("ps-label"),v=s("ps-input"),p=s("ps-label-caption"),k=s("ps-button"),b=s("user-phone-login-verification-modal"),x=s("ps-error-dialog");return g(),B($,null,[t(m,{title:e.$t("phone_login__phone_login")},null,8,["title"]),d("div",Z,[d("div",G,[t(c,{class:"mt-8 mx-auto text-2xl"},{default:a(()=>[n(l(e.$t("phone_login__phone_login")),1)]),_:1}),t(h,{class:"mt-4 mx-8"},{default:a(()=>[n(l(e.$t("phone_login__user_name"))+" : ",1)]),_:1}),t(v,{class:"mt-2 mx-8",type:"text",placeholder:e.$t("phone_login__user_name"),onKeyup:V(o.clicked,["enter"]),onKeypress:o.validateName,value:o.name,"onUpdate:value":r[0]||(r[0]=f=>o.name=f)},null,8,["placeholder","onKeyup","onKeypress","value"]),o.isValidUserName?(g(),P(p,{key:0,class:"mt-2 mx-8",textColor:"text-fePrimary-500 dark:text-fePrimaryDark-accent"},{default:a(()=>[n(l(e.$t("phone_login__user_name_required")),1)]),_:1})):C("",!0),t(p,{class:"mt-2 mx-8"},{default:a(()=>[n(l(e.$t("phone_login__user_name_format")),1)]),_:1}),t(h,{class:"mt-4 mx-8"},{default:a(()=>[n(l(e.$t("phone_login__phone_number"))+" : ",1)]),_:1}),t(v,{class:"mt-2 mx-8",type:"text",placeholder:e.$t("phone_login__phone_number_placeholder"),onKeyup:V(o.clicked,["enter"]),onKeypress:o.validatePhone,value:o.phone,"onUpdate:value":r[1]||(r[1]=f=>o.phone=f)},null,8,["placeholder","onKeyup","onKeypress","value"]),o.isValidPhone?(g(),P(p,{key:1,class:"mt-2 mx-8",textColor:"text-fePrimary-500 dark:text-fePrimaryDark-accent"},{default:a(()=>[n(l(e.$t("phone_login__phone_required")),1)]),_:1})):C("",!0),J,O,Q,d("div",R,[o.userProvider.loading.value?(g(),P(k,{key:0,class:"mt-6 mx-8",disabled:!0},{default:a(()=>[n(l(e.$t("phone_login__loading")),1)]),_:1})):(g(),P(k,{key:1,class:"mt-6 mx-8",onClick:o.clicked,disabled:!1},{default:a(()=>[n(l(e.$t("phone_login__login")),1)]),_:1},8,["onClick"]))]),d("div",W,[t(p,{class:"cursor-pointer",onClick:o.loginClicked},{default:a(()=>[n(l(e.$t("phone_login__back_to_login")),1)]),_:1},8,["onClick"])])])]),t(b,{ref:"user_phone_login_verification_modal"},null,512),t(x,{ref:"ps_error_dialog"},null,512)],64)}var be=F(M,[["render",X]]);export{be as default};
