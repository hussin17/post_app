import{d as D,H as E,i as h,aJ as U,J as k,r as n,o as u,c as H,b as t,w as a,a as m,p as r,t as s,h as T,f as b,g,F as z}from"./app.af382b17.js";import{b as N,d as V}from"./PsLayout.0abf605b.js";import{P as J}from"./PsBreadcrumb2.d6a63364.js";import{u as j}from"./Validators.52e283a4.js";import{P as K}from"./PsInput.7ab135ce.js";import{P as M}from"./PsLabel.43555620.js";import{P as O}from"./PsButton.a8f09858.js";import{P as q}from"./PsCard.4d6784c5.js";import{P as A}from"./PsLoading.205642de.js";import{P as G}from"./PsIcon.25e3c482.js";import{P as Q}from"./PsCheckboxValue.13420b31.js";import{P as R}from"./PsLabelCaption.a246ecb7.js";import{P as W}from"./PsLabelTitle3.8eaa0a1a.js";import{P as X}from"./PsImageUpload.6f44e1cc.js";import{_ as Y}from"./Dropzone.066d94b3.js";import{_ as Z}from"./plugin-vue_export-helper.21dcd24c.js";import"https://checkout.razorpay.com/v1/checkout.js";import"./PsModal.95640547.js";import"./toggle.12d56bd4.js";import"./vue-neat-modal.9cc57e3a.js";import"./PsTextButton.c46800ee.js";import"./index.esm.074946f0.js";import"./auth.esm.ec72dae1.js";import"./PsInputWithRightIcon.f43b3aab.js";import"./PsIcon1.84df9d01.js";import"./Icons.e6c27a10.js";import"./PsDraggable.bc4f766f.js";import"./dropzone.0e7a43e0.js";const ee=D({name:"Create",components:{Head:E,PsBreadcrumb2:J,PsInput:K,PsLabel:M,PsButton:O,PsLabelHeader6:N,PsCard:q,PsLoading:A,PsIcon:G,PsCheckboxValue:Q,PsLabelCaption:R,PsLabelTitle3:W,PsImageUpload:X,Dropzone:Y},layout:V,props:["errors","images"],setup(e){const o=h(!1),d=h(!1),c=h(),{isEmpty:$,minLength:P}=j(),v=(i,p)=>{e.errors[i]=p?P(i,p,3):$(i,p),i=="name"&&(c.value.isError=e.errors.name!="")};let _=U({name:"",cover:"",icon:"",status:!1,extra_caption:[],images:[]});function y(){this.$inertia.post(route("category.store"),_,{forceFormData:!0,onBefore:()=>{o.value=!0},onSuccess:()=>{o.value=!1,d.value=!0,setTimeout(()=>{d.value=!1},2e3)},onError:()=>{c.value.isError=e.errors.name!="",o.value=!1}})}return{validateNameInput:v,handleSubmit:y,form:_,loading:o,success:d,name:c}},computed:{breadcrumb(){return[{label:k("core__be_dashboard_label"),url:route("admin.index")},{label:k("category_module"),url:route("category.index")},{label:k("core__add_category"),color:"text-primary-500"}]}},methods:{handleCancel(){this.$inertia.get(route("category.index"))},removeImage(e){var o=this.form.images.indexOf(e);this.form.images.splice(o,1)},pushImage(e){this.form.images.push(e)},caption(e){let o=!1;this.form.extra_caption.forEach(d=>{if(d.name==e.name)return d.value=e.value,o=!0,!1}),o||this.form.extra_caption.push({name:e.name,value:e.value}),console.log(this.form.extra_caption)}}}),oe={class:"rounded-xl"},te={class:"bg-primary-50 dark:bg-primary-900 py-2.5 ps-4 rounded-t-xl"},ae={class:"px-4 pt-6 dark:bg-backgroundDark"},re=m("span",{class:"text-red-500 ms-1"},"*",-1),se=m("span",{class:"text-red-500 ms-1"},"*",-1),le=m("span",{class:"text-red-500 ms-1"},"*",-1),ne=m("span",{class:"text-red-500 ms-1"},"*",-1),me={class:"flex flex-row justify-end mb-2.5"};function ie(e,o,d,c,$,P){const v=n("Head"),_=n("ps-breadcrumb-2"),y=n("ps-label-header-6"),i=n("ps-label"),p=n("ps-input"),f=n("ps-label-caption"),C=n("ps-label-title-3"),x=n("ps-image-upload"),F=n("ps-checkbox-value"),w=n("ps-button"),B=n("ps-loading"),I=n("ps-icon"),L=n("ps-card"),S=n("ps-layout");return u(),H(z,null,[t(v,{title:e.$t("core__add_category")},null,8,["title"]),t(S,null,{default:a(()=>[t(_,{items:e.breadcrumb,class:"mb-5 sm:mb-6 lg:mb-8"},null,8,["items"]),t(L,{class:"w-full h-auto"},{default:a(()=>[m("div",oe,[m("div",te,[t(y,{textColor:"text-secondary-800 dark:text-secondary-100"},{default:a(()=>[r(s(e.$t("core__be_category_info")),1)]),_:1})]),m("div",ae,[m("form",{onSubmit:o[8]||(o[8]=T((...l)=>e.handleSubmit&&e.handleSubmit(...l),["prevent"]))},[m("div",null,[t(i,{class:"mb-2 text-base"},{default:a(()=>[r(s(e.$t("core__category_label")),1),re]),_:1}),t(p,{ref:"name",type:"text",value:e.form.name,"onUpdate:value":o[0]||(o[0]=l=>e.form.name=l),placeholder:e.$t("core__category_placeholder"),onKeyup:o[1]||(o[1]=l=>e.validateNameInput("name",e.form.name)),onBlur:o[2]||(o[2]=l=>e.validateNameInput("name",e.form.name))},null,8,["value","placeholder"]),t(f,{textColor:"text-red-500 ",class:"block mt-2"},{default:a(()=>[r(s(e.errors.name),1)]),_:1})]),m("div",null,[t(i,{class:"mb-2 text-base"},{default:a(()=>[r(s(e.$t("core__be_ordering_label")),1),se]),_:1}),t(p,{ref:"ordering",type:"text",value:e.form.ordering,"onUpdate:value":o[3]||(o[3]=l=>e.form.ordering=l),placeholder:e.$t("core__be_ordering_label")},null,8,["value","placeholder"]),t(f,{textColor:"text-red-500 ",class:"block mt-2"},{default:a(()=>[r(s(e.errors.ordering),1)]),_:1})]),m("div",null,[t(i,{class:"mb-2 text-base"},{default:a(()=>[r(s(e.$t("core__category_photo_label")),1),le]),_:1}),t(C,null,{default:a(()=>[r(s(e.$t("core__be_recommended_size_400_200")),1)]),_:1}),t(x,{uploadType:"image",imageFile:e.form.cover,"onUpdate:imageFile":o[4]||(o[4]=l=>e.form.cover=l)},null,8,["imageFile"]),t(f,{textColor:"text-red-500 ",class:"block mt-2"},{default:a(()=>[r(s(e.errors.cover),1)]),_:1})]),m("div",null,[t(i,{class:"mb-2 text-base"},{default:a(()=>[r(s(e.$t("core__category_icon_label")),1),ne]),_:1}),t(C,null,{default:a(()=>[r(s(e.$t("core__be_recommended_size_200_200")),1)]),_:1}),t(x,{class:"w-72",uploadType:"icon",imageFile:e.form.icon,"onUpdate:imageFile":o[5]||(o[5]=l=>e.form.icon=l)},null,8,["imageFile"]),t(f,{textColor:"text-red-500 ",class:"block mt-2"},{default:a(()=>[r(s(e.errors.icon),1)]),_:1})]),m("div",null,[t(i,{class:"mb-2 text-base"},{default:a(()=>[r(s(e.$t("core__status_label")),1)]),_:1}),t(F,{value:e.form.status,"onUpdate:value":o[6]||(o[6]=l=>e.form.status=l),class:"font-normal",title:e.$t("core__publish_label")},null,8,["value","title"])]),m("div",me,[t(w,{onClick:o[7]||(o[7]=l=>e.handleCancel()),type:"reset",class:"me-4",colors:"text-primary-500",hover:""},{default:a(()=>[r(s(e.$t("core__be_btn_cancel")),1)]),_:1}),t(w,{class:"transition-all duration-300 min-w-3xs",padding:"px-7 py-2",rounded:"rounded",hover:"",focus:""},{default:a(()=>[e.loading?(u(),b(B,{key:0,theme:"border-2 border-t-2 border-text-8 border-t-primary-500",loadingSize:"h-5 w-5"})):g("",!0),e.success?(u(),b(I,{key:1,name:"check",w:"20",h:"20",class:"me-1.5 transition-all duration-300"})):g("",!0),e.success?(u(),b(i,{key:2,class:"transition-all duration-300",textColor:"text-white dark:text-secondaryDark-black"},{default:a(()=>[r(s(e.$t("core__be_btn_saved")),1)]),_:1})):g("",!0),!e.loading&&!e.success?(u(),b(i,{key:3,textColor:"text-white dark:text-secondaryDark-black"},{default:a(()=>[r(s(e.$t("core__be_btn_save")),1)]),_:1})):g("",!0)]),_:1})])],32)])])]),_:1})]),_:1})],64)}var Ne=Z(ee,[["render",ie]]);export{Ne as default};
