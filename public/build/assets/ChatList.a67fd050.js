import{H as $,O as B,i as E,r as p,Q as q,o as r,c as i,b as l,a as s,w as n,p as m,t as a,F as v,q as I,g as M,m as R,f as S,n as z}from"./app.af382b17.js";import D from"./PsIcon.0e44b0ec.js";import O from"./PsLabelCaption3.f238a175.js";import G from"./PsButton.50ea9ded.js";import Q from"./PsRouteLink.b1ca5aa0.js";import{u as A}from"./ChatHistoryListStore.13562d6f.js";import{u as J,U as K}from"./UserUnReadMessageParameterHolder.55700c85.js";import{P as W}from"./PsValueStore.b4213564.js";import X from"./PsLabel.7cc3bda1.js";import Z from"./PsAdSense.ea320f9b.js";import{u as ee}from"./AppInfoStore.3dab5ef4.js";import{A as te}from"./AppInfoParameterHolder.e24d894d.js";import{P as y}from"./ps_constants.1e4471b7.js";import se from"./ChatHorizontalItem.84aeadc7.js";import oe from"./ChatBuyerHorizontalItem.b2a18fa3.js";import re from"./ChatSkeletorItem.40559f1c.js";import ae from"./PsFrontendLayout.321e9621.js";import{_ as le}from"./plugin-vue_export-helper.21dcd24c.js";import"https://checkout.razorpay.com/v1/checkout.js";import"./PsApiService.e3897525.js";import"./ChatHistory.4704e4d0.js";import"./PsObject.a17ef38f.js";import"./Product.21fd7f06.js";import"./DefaultPhoto.cc755f93.js";import"./Category.3f13b0a3.js";import"./DefaultIcon.e76b39a5.js";import"./SubCategory.1b4176e0.js";import"./ItemLocationTownship.94979fe0.js";import"./User.fb568515.js";import"./RatingDetail.291ad5d1.js";import"./SyncChatHistoryParameterHolder.24ffbfbb.js";import"./PsSepetetedStore.9a31ac47.js";import"./PsCard.245e57f6.js";import"./PsValueHolder.d6409b12.js";import"./moment.9709ab41.js";import"./format.min.a954d99f.js";import"./vue-skeletor.esm.32495c65.js";/* empty css                     */import"./FooterView.73599f57.js";import"./FooterLinkSection.b70443bc.js";import"./PsLink.741277c6.js";import"./PsLabelCaption.864135d9.js";import"./ProductParameterHolder.fd27bf91.js";import"./PsNavTabBar.ee10308d.js";import"./PsDropdown.50fc1dc4.js";import"./PsDropdownSelect.9c3df235.js";import"./PsIconToggle.ee74024b.js";import"./LocationModal.1dafed17.js";import"./PsModal.521f4d13.js";import"./vue-neat-modal.9cc57e3a.js";import"./PsLine.a8261381.js";import"./PsInputWithLeftIcon.5e585d7c.js";import"./LocationParameterHolder.0d5c0db7.js";import"./ItemLocationTownshipStore.6e59f444.js";import"./PsNavBar.61bfefbe.js";import"./UserProvider.940163f9.js";import"./UserListParameterHolder.d110b747.js";import"./ApiStatus.5720ba0b.js";import"./index.esm.074946f0.js";import"./auth.esm.ec72dae1.js";import"./PsConfirmDialog.81a56362.js";import"./PsUtils.aa012712.js";import"./PsNotificationBox.6b0524ca.js";import"./ProductStore.4b0b2789.js";import"./NotificationStore.fafd23ed.js";import"./NotiUnRegisterHolder.eefb692e.js";class N{constructor(){this.userId="",this.returnType=""}ChatHistoryPrameterHolder(){this.userId="",this.returnType=""}getSellerHistoryList(){return this.userId="",this.returnType=y.CHAT_TYPE_SELLER,this}getBuyerHistoryList(){return this.userId="",this.returnType=y.CHAT_TYPE_BUYER,this}resetParameterHolder(){return this.userId="",this.returnType="",this}toMap(){const h={};return h.user_id=this.userId,h.return_type=this.returnType,h}}const ie={name:"ChatListView",components:{PsButton:G,PsLabel:X,PsLabelCaption3:O,PsIcon:D,ChatHorizontalItem:se,ChatBuyerHorizontalItem:oe,ChatSkeletorItem:re,PsRouteLink:Q,PsAdSense:Z,Head:$},props:["mobileSetting"],layout:ae,setup(t){var P,U,T,F;const h=W(),f=A("buyer"),e=A("seller");f.limit=(U=(P=t.mobileSetting)==null?void 0:P.default_loading_limit)!=null?U:12,e.limit=(F=(T=t.mobileSetting)==null?void 0:T.default_loading_limit)!=null?F:12;const b=J(),c=h.getLoginUserId();(c==null||c==""||c==y.NO_LOGIN_USER)&&B.Inertia.get(route("login"));const g=new N().resetParameterHolder(),_=new N().resetParameterHolder(),d=new K,u=E(!0),x=E(!1),C=ee(),H=new te;H.userId=c,g.userId=c,g.returnType=y.CHAT_TYPE_SELLER,_.userId=c,_.returnType=y.CHAT_TYPE_BUYER,d.userId=c,b.postUserUnreadMessageCount(d),L();async function L(){await f.resetChatHistoryList(c,_),u.value=!1}async function k(){x.value=!0,u.value=!0,await e.resetChatHistoryList(c,g),await b.postUserUnreadMessageCount(d),u.value=!1}async function w(){x.value=!1,u.value=!0,await f.resetChatHistoryList(c,_),await b.postUserUnreadMessageCount(d),u.value=!1}async function o(){await e.loadChatHistoryList(c,g)}async function V(){await f.loadChatHistoryList(c,_)}function Y($e){return"10"}function j(){B.Inertia.get(route("fe_item_entry"))}return{getPrice:Y,chatsellerhistorylistStore:e,chatbuyerhistorylistStore:f,userunreadmsgStore:b,sellerClicked:k,buyerClicked:w,ps_loading:u,isSellerFocus:x,PsConst:y,loadMore:o,loadMoreBuyer:V,appInfoStore:C,startSellingClicked:j}}},ne={class:"sm:mt-32 lg:mt-36 mt-28 mb-16 px-5 xl:px-52 mx-auto"},de={class:"grid lg:grid-cols-12 sm:grid-cols-8 grid-cols-4 gap-4 sm:gap-3.5 lg:gap-10"},ce={class:"col-start-0 col-span-4 sm:col-span-2 lg:col-span-3"},me={class:""},_e={key:0,class:"flex flex-row rtl:space-x-reverse space-x-2 sm:space-x-0 space-y-0 sm:space-y-2 sm:flex-col",id:"sellerbtn",disabled:!0},ue={class:"me-2 md:me-4"},pe={class:"rounded-full w-8 float-right bg-red-500 text-feTextLight"},he={class:"me-2 md:me-4"},fe={class:"rounded-full w-8 float-right bg-red-500 text-feTextLight"},ge={key:1,class:"flex flex-row rtl:space-x-reverse space-x-2 sm:space-x-0 space-y-0 sm:space-y-2 sm:flex-col",id:"buyerbtn",disabled:!0},ye={class:"me-2 md:me-4"},be={class:"rounded-full w-8 float-right bg-red-500 text-feTextLight"},xe={class:"me-2 md:me-4"},Ce={class:"rounded-full w-8 float-right bg-red-500 text-feTextLight"},ke={class:"col-span-4 sm:col-span-6 lg:col-span-9"},we={key:0,class:"col-span-4 sm:col-span-6 lg:col-span-9 mb-2"},ve={key:1,class:"col-span-4 sm:col-span-6 lg:col-span-9 mb-2"},Se={key:2},He={id:"seller",class:"w-full flex flex-col lg:p-4 p-2 sm:p-3"},Le={class:"w-full"},Ie={class:"flex flex-col"},Pe={key:3,id:"seller",class:"flex flex-col mb-16"},Ue={class:"flex flex-row"},Te={key:0,class:"w-full flex flex-col lg:p-4 p-2 sm:p-3 rounded"},Fe={alt:"Placeholder",height:"auto",class:"w-screen object-cover rtl:space-x-reverse space-x-48"},Be={key:1,class:"flex flex-wrap w-full"},Ee={class:"flex items-end justify-end"},Me={key:4,id:"buyer",class:"flex flex-col mb-16"},Re={class:"flex flex-row"},ze={key:0,class:"w-full flex flex-col lg:p-4 p-2 sm:p-3 rounded"},Ae={alt:"Placeholder",height:"auto",class:"w-screen object-cover rtl:space-x-reverse space-x-48"},Ne={key:1,class:"w-full"},Ve={class:"flex flex-wrap w-full"},Ye={class:"flex items-end justify-end"};function je(t,h,f,e,b,c){var w;const g=p("Head"),_=p("ps-label"),d=p("ps-button"),u=p("ps-ad-sense"),x=p("chat-skeletor-item"),C=p("ps-label-caption-3"),H=p("chat-horizontal-item"),L=p("chat-buyer-horizontal-item"),k=q("lazy");return r(),i(v,null,[l(g,{title:t.$t("chat_list__messages")},null,8,["title"]),s("div",ne,[s("div",de,[s("div",ce,[l(_,{class:"text-xl sm:text-3xl font-medium mb-5"},{default:n(()=>[m(a(t.$t("chat_list__messages")),1)]),_:1}),s("div",me,[e.isSellerFocus?(r(),i("div",ge,[l(d,{class:"w-full",colors:"bg-white dark:bg-gray-800 dark:text-gray-200 hover:text-white",border:"border border-gray-300 dark:border-gray-500",rounded:"rounded",onClick:e.buyerClicked},{default:n(()=>{var o;return[s("span",ye,a(t.$t("chat_list__from_buyer")),1),s("span",be,a((o=e.userunreadmsgStore.unreadCount.data)==null?void 0:o.sellerUnreadCount),1)]}),_:1},8,["onClick"]),l(d,{class:"w-full",onClick:e.sellerClicked},{default:n(()=>{var o;return[s("span",xe,a(t.$t("chat_list__from_seller")),1),s("span",Ce,a((o=e.userunreadmsgStore.unreadCount.data)==null?void 0:o.buyerUnreadCount),1)]}),_:1},8,["onClick"])])):(r(),i("div",_e,[l(d,{class:"w-full",onClick:e.buyerClicked},{default:n(()=>{var o;return[s("span",ue,a(t.$t("chat_list__from_buyer")),1),s("span",pe,a((o=e.userunreadmsgStore.unreadCount.data)==null?void 0:o.sellerUnreadCount),1)]}),_:1},8,["onClick"]),l(d,{class:"w-full",colors:"bg-white dark:bg-gray-800 dark:text-gray-200 hover:text-white",border:"border border-gray-300 dark:border-gray-500",rounded:"rounded",onClick:e.sellerClicked},{default:n(()=>{var o;return[s("span",he,a(t.$t("chat_list__from_seller")),1),s("span",fe,a((o=e.userunreadmsgStore.unreadCount.data)==null?void 0:o.buyerUnreadCount),1)]}),_:1},8,["onClick"])]))]),l(u)]),s("div",ke,[e.isSellerFocus?(r(),i("div",we,[l(_,{class:"text-sm sm:text-xl font-medium"},{default:n(()=>[m(a(t.$t("chat_list__messages_from_seller")),1)]),_:1})])):(r(),i("div",ve,[l(_,{class:"text-sm sm:text-xl font-medium"},{default:n(()=>[m(a(t.$t("chat_list__messages_from_buyer")),1)]),_:1})])),e.ps_loading==!0?(r(),i("div",Se,[s("div",He,[s("div",Le,[s("div",Ie,[(r(),i(v,null,I(3,o=>s("div",{class:"w-full mt-2",key:o},[l(x)])),64))])])])])):M("",!0),e.isSellerFocus&&e.ps_loading==!1?(r(),i("div",Pe,[s("div",Ue,[e.chatsellerhistorylistStore.chatHistoryList.data==null?(r(),i("div",Te,[R(s("img",Fe,null,512),[[k,{src:t.$page.props.sysImageUrl+"/undraw_quick_chat_rebit.png",loading:t.$page.props.sysImageUrl+"/loading_gif.gif",error:t.$page.props.sysImageUrl+"/default_photo.png"}]]),l(_,{class:"text-base text-center sm:text-2xl mb-3 mt-3"},{default:n(()=>[m(a(t.$t("chat_list_no_messages")),1)]),_:1}),l(C,{class:"text-center mb-2"},{default:n(()=>[m(a(t.$t("chat_list_no_messages__paragraph")),1)]),_:1}),l(d,{onClick:e.startSellingClicked,class:"w-full sm:mx-auto sm:w-[456px]"},{default:n(()=>[m(a(t.$t("chat_list__start_selling")),1)]),_:1},8,["onClick"])])):(r(),i("div",Be,[(r(!0),i(v,null,I((w=e.chatsellerhistorylistStore.chatHistoryList)==null?void 0:w.data,o=>(r(),i("div",{class:"mt-2 w-full",key:o.id},[l(H,{dateFormat:t.$page.props.dateFormat,chathistory:o},null,8,["dateFormat","chathistory"])]))),128))]))]),s("div",Ee,[e.chatsellerhistorylistStore.loading.value==!1?(r(),S(d,{key:0,class:z(["w-[108px] mx-auto mt-4",e.chatsellerhistorylistStore.isNoMoreRecord?"hidden":""]),onClick:e.loadMore},{default:n(()=>[m(a(t.$t("list__load_more")),1)]),_:1},8,["onClick","class"])):(r(),S(d,{key:1,class:"w-[108px] mx-auto mt-4",disabled:!0},{default:n(()=>[m(a(t.$t("list__loading")),1)]),_:1}))])])):e.ps_loading==!1?(r(),i("div",Me,[s("div",Re,[e.chatbuyerhistorylistStore.chatHistoryList.data==null?(r(),i("div",ze,[R(s("img",Ae,null,512),[[k,{src:t.$page.props.sysImageUrl+"/undraw_quick_chat_rebit.png",loading:t.$page.props.sysImageUrl+"/loading_gif.gif",error:t.$page.props.sysImageUrl+"/default_photo.png"}]]),l(_,{class:"text-base text-center sm:text-2xl mb-3 mt-3"},{default:n(()=>[m(a(t.$t("chat_list_no_messages")),1)]),_:1}),l(C,{class:"text-center mb-2"},{default:n(()=>[m(a(t.$t("chat_list_no_messages__paragraph")),1)]),_:1}),l(d,{onClick:e.startSellingClicked,class:"w-full sm:mx-auto sm:w-[456px]"},{default:n(()=>[m(a(t.$t("chat_list__start_selling")),1)]),_:1},8,["onClick"])])):(r(),i("div",Ne,[s("div",Ve,[(r(!0),i(v,null,I(e.chatbuyerhistorylistStore.chatHistoryList.data,o=>(r(),i("div",{class:"w-full mt-2",key:o.id},[l(L,{dateFormat:t.$page.props.dateFormat,chathistory:o},null,8,["dateFormat","chathistory"])]))),128))])]))]),s("div",Ye,[e.chatbuyerhistorylistStore.loading.value==!1?(r(),S(d,{key:0,class:z(["w-[108px] mt-4 mx-auto",e.chatbuyerhistorylistStore.isNoMoreRecord.value?"hidden":""]),onClick:e.loadMoreBuyer},{default:n(()=>[m(a(t.$t("list__load_more")),1)]),_:1},8,["onClick","class"])):(r(),S(d,{key:1,class:"w-[108px] mx-auto mt-4",disabled:!0},{default:n(()=>[m(a(t.$t("list__loading")),1)]),_:1}))])])):M("",!0)])])])],64)}var ss=le(ie,[["render",je]]);export{ss as default};
