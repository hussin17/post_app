import{H as yt,i as C,O as xt,B as St,j as kt,k as Tt,J as S,r as b,Q as Ct,o as g,c as p,b as i,w as m,a,m as _e,p as _,t as c,f as It,h as Ze,g as B,n as Te,F as $e,q as vt,ax as Ut}from"./app.03d0793a.js";import{f as Ce}from"./index.esm.074946f0.js";import"./auth.esm.ec72dae1.js";import bt from"./PsFrontendLayout.11696880.js";import wt from"./PsInput.508a4652.js";import Pt from"./PsLine.baababc4.js";import Bt from"./PsContentContainer.86223933.js";import At from"./PsBreadcrumb2.02c86dd7.js";import Dt from"./PsButton.506f0d87.js";import Et from"./PsDropdown.59129fcd.js";import{P as U}from"./PsUtils.aa012712.js";import Ht from"./PsIcon.14101206.js";import Ot from"./PsLabel.f69ed5af.js";import Rt from"./PsLabelTitle3.ec2ac555.js";import Mt from"./PsRouteLink.057d2d3a.js";import Lt from"./PsLabelCaption2.57a41b30.js";import{P as f}from"./ps_constants.1e4471b7.js";import{u as Ft}from"./NotificationStore.c50bfaec.js";import{P as Yt}from"./PsValueStore.98989d86.js";import Nt from"./PsLoadingDialog.cb54104b.js";import Gt from"./PsConfirmDialog2.f6b388fe.js";import qt from"./PsErrorDialog.34579d4a.js";import Vt from"./PsSuccessDialog.c8bf8822.js";import zt from"./ChatImageDetail.e31e3ae8.js";import{O as Jt,u as Xt}from"./OfferModal.658418c6.js";import jt from"./ReviewModal.dfbfdbc1.js";import{u as Kt}from"./GalleryStore.ea75b324.js";import{b as W}from"./PsApiService.ebe2eb3a.js";import{u as Qt}from"./UserStore.442e09b8.js";import{u as Wt}from"./AppInfoStore.df8c993a.js";import{A as Zt}from"./AppInfoParameterHolder.e24d894d.js";import{u as $t}from"./ChatHistoryListStore.fc474bf5.js";import{u as es}from"./OfferStore.da151aba.js";import{P as ts}from"./PsObject.a17ef38f.js";import{f as ss}from"./format.min.9753f80e.js";import{u as os}from"./ProductStore.b9cceb1f.js";import{u as rs,U as is}from"./UserUnReadMessageParameterHolder.935f8896.js";import{h as as}from"./moment.9709ab41.js";import{_ as ls}from"./plugin-vue_export-helper.21dcd24c.js";import"https://checkout.razorpay.com/v1/checkout.js";import"./FooterView.19eff592.js";import"./FooterLinkSection.2f875d63.js";import"./PsLink.ce713b1c.js";import"./PsLabelCaption.f1a3ea15.js";import"./ProductParameterHolder.fd27bf91.js";import"./DefaultPhoto.cc755f93.js";import"./PsNavTabBar.abdb46ee.js";import"./PsDropdownSelect.0098a733.js";import"./PsIconToggle.630b94b8.js";import"./LocationModal.6969189b.js";import"./PsModal.9e39943e.js";import"./vue-neat-modal.796ccbfb.js";import"./PsInputWithLeftIcon.5d1ca263.js";import"./LocationParameterHolder.b423a5e0.js";import"./ItemLocationTownship.94979fe0.js";import"./PsSepetetedStore.9a31ac47.js";import"./ItemLocationTownshipStore.e0411fa5.js";import"./PsNavBar.636d48c6.js";import"./UserProvider.eb24c714.js";import"./User.fb568515.js";import"./RatingDetail.291ad5d1.js";import"./UserListParameterHolder.d110b747.js";import"./ApiStatus.5720ba0b.js";import"./PsConfirmDialog.6411bbd4.js";import"./PsNotificationBox.4481ecaf.js";import"./Product.21fd7f06.js";import"./Category.3f13b0a3.js";import"./DefaultIcon.e76b39a5.js";import"./SubCategory.1b4176e0.js";import"./NotiUnRegisterHolder.eefb692e.js";import"./vue-router.esm-bundler.2f6822f6.js";import"./PsLabelTitle.cac98e57.js";import"./PsImageModal.3e304f1d.js";import"./ItemEntryParameterHolder.3cb75ec9.js";import"./PsLabelHeader6.a8dad227.js";import"./ChatHistory.4704e4d0.js";import"./SyncChatHistoryParameterHolder.24ffbfbb.js";import"./RatingSelected.29fedcec.js";import"./PsTextarea.18a49dce.js";import"./RatingHolder.c74cb158.js";import"./UserParameterHolder.e816da85.js";class ds{constructor(){this.itemId="",this.buyerUserId="",this.sellerUserId=""}GetChatHistoryParameterHolder(){this.itemId="",this.buyerUserId="",this.sellerUserId=""}toMap(){const o={};return o.item_id=this.itemId,o.buyer_user_id=this.buyerUserId,o.seller_user_id=this.sellerUserId,o}}class ns{constructor(){this.itemId="",this.buyerUserId="",this.sellerUserId="",this.negoPrice="",this.type="",this.isUserOnline="",this.message=""}MakeOfferParameterHolder(){this.itemId="",this.buyerUserId="",this.sellerUserId="",this.negoPrice="",this.type=f.CHAT_TO_SELLER,this.isUserOnline="",this.message=""}AcceptOfferParameterHolder(){this.itemId="",this.buyerUserId="",this.sellerUserId="",this.negoPrice="",this.type=f.CHAT_TO_BUYER,this.isUserOnline="",this.message=""}toMap(){const o={};return o.item_id=this.itemId,o.buyer_user_id=this.buyerUserId,o.seller_user_id=this.sellerUserId,o.nego_price=this.negoPrice,o.type=this.type,o.is_user_online=this.isUserOnline,o.message=this.message,o}}class le{constructor(){this.addedDateTimeStamp=0,this.id="",this.isSold=!1,this.isUserBought=!1,this.itemId="",this.message="",this.offerStatus=0,this.sendByUserId="",this.sessionId="",this.type=0}ChatParameterHolder(){return this.addedDateTimeStamp=Math.floor(Date.now()),this.id="",this.isSold=!1,this.isUserBought=!1,this.itemId="",this.message="hi",this.offerStatus=f.CHAT_STATUS_NULL,this.sendByUserId="",this.sessionId="",this.type=f.CHAT_TYPE_TEXT,this}ChatAcceptParameterHolder(){return this.addedDateTimeStamp=Math.floor(Date.now()),this.id="",this.isSold=!1,this.isUserBought=!1,this.itemId="",this.message="",this.offerStatus=f.CHAT_STATUS_ACCEPT,this.sendByUserId="",this.sessionId="",this.type=f.CHAT_TYPE_ACCEPT,this}toMap(){const o={};return o.item_id=this.itemId,o.send_by_user_id=this.sendByUserId,o.message=this.message,o.type=this.type,o}}class ms{constructor(){this.itemId="",this.buyerUserId="",this.sellerUserId="",this.type=""}ResetUnReadMessageHolder(){this.itemId="",this.buyerUserId="",this.sellerUserId="",this.type=""}toMap(){const o={};return o.item_id=this.itemId,o.buyer_user_id=this.buyerUserId,o.seller_user_id=this.sellerUserId,o.type=this.type,o}}class Ie extends ts{constructor(){super(...arguments),this.id="",this.itemId="",this.sessionId="",this.key="",this.message="",this.type=0,this.sendByUserId="",this.offerStatus=0,this.addedDate="",this.isSold=!1,this.isUserBought=!1,this.dateTimeString="",this.dateString="",this.timeString=""}init(o,l,s,Z,D,$,v,k,u,w,x,O,L,F){return this.id=o,this.itemId=l,this.sessionId=s,this.key=Z,this.message=D,this.type=$,this.sendByUserId=v,this.offerStatus=k,this.addedDate=u,this.isSold=w,this.isUserBought=x,this.dateTimeString=O,this.dateString=L,this.timeString=F,this}getPrimaryKey(){return this.itemId}fromMap(o){return new Ie().init(o.id,o.itemId,o.sessionId,o.key,o.message,o.type,o.sendByUserId,o.offerStatus,o.addedDate,o.isSold,o.isUserBought,o.dateTimeString,o.dateString,o.timeString)}fromMapList(o){const l=[];for(const s in o)s!=null&&l.push(this.fromMap(s));return l}toMap(o){const l={};return l.id=o.id,l.itemId=o.itemId,l.sessionId=o.sessionId,l.key=o.key,l.message=o.message,l.type=o.type,l.sendByUserId=o.sendByUserId,l.offerStatus=o.offerStatus,l.addedDate=o.addedDate,l.isSold=o.isSold,l.isUserBought=o.isUserBought,l.dateTimeString=o.dateTimeString,l.dateString=o.dateString,l.timeString=o.timeString,l}toMapList(o){const l=[];for(let s=0;s<o.length;s++)o[s]!=null&&l.push(this.toMap(o[s]));return l}}class cs{constructor(){this.itemId="",this.buyerUserId="",this.sellerUserId="",this.isUserOnline=""}IsUserBoughtParameterHolder(){this.itemId="",this.buyerUserId="",this.sellerUserId="",this.isUserOnline=""}toMap(){const o={};return o.item_id=this.itemId,o.buyer_user_id=this.buyerUserId,o.seller_user_id=this.sellerUserId,o.is_user_online=this.isUserOnline,o}}const _s={name:"ChatView",components:{PsLabel:Ot,PsInput:wt,PsLine:Pt,PsContentContainer:Bt,PsIcon:Ht,PsLabelTitle3:Rt,PsLabelCaption2:Lt,PsLoadingDialog:Nt,OfferModal:Jt,PsConfirmDialog2:Gt,PsErrorDialog:qt,PsSuccessDialog:Vt,ChatImageDetail:zt,PsRouteLink:Mt,ReviewModal:jt,PsBreadcrumb2:At,PsButton:Dt,PsDropdown:Et,Head:yt},props:["query"],layout:bt,setup(n){var Le,Fe,Ye,Ne,Ge,qe,Ve,ze,Je,Xe,je,Ke;const l=Yt().getLoginUserId(),s=C(!1);(l==null||l==""||l==f.NO_LOGIN_USER)&&xt.Inertia.get(route("login"));const Z=new is;Z.userId=l;const D=os(),$=rs(),v=(Ye=(Fe=(Le=n.query)==null?void 0:Le.buyer_user_id)==null?void 0:Fe.toString())!=null?Ye:"",k=(qe=(Ge=(Ne=n.query)==null?void 0:Ne.seller_user_id)==null?void 0:Ge.toString())!=null?qe:"",u=C(""),w=C(""),x=(Je=(ze=(Ve=n.query)==null?void 0:Ve.item_id)==null?void 0:ze.toString())!=null?Je:"",O=C("");let L=C("");const F=C(""),ee=(Ke=(je=(Xe=n.query)==null?void 0:Xe.chat_flag)==null?void 0:je.toString())!=null?Ke:f.CHAT_FROM_BUYER,te=C("0"),fe=new Zt;fe.userId=l;const se=Wt();async function ue(){}ue();const Y=Xt(),ge=$t(),N=Kt();Ft();const H=es(),G=new ds,e=new ns,r=new le().ChatParameterHolder(),T=new cs,J=new ms,P=C(),X=C(),ve=C(),Ue=C(),be=C(),we=C(),Pe=C(),j=C(!1),Be=C(),E=C(!1),R=U.sortinUserId(k,v),oe=Ce.database().ref("Message/"+R),Ae=Ce.database().ref("Current_Chat_With"),de=Ce.database().ref("User_Presence");let M,re=C("");k==l?M=v:M=k;const De=Qt("chat");De.loadUser(M),J.itemId=x,J.buyerUserId=v,J.sellerUserId=k,ee==f.CHAT_FROM_SELLER?J.type=f.CHAT_TO_BUYER:J.type=f.CHAT_TO_SELLER;const Ee=C(""),pe=St({data:[]});async function K(){var t,y;G.itemId=x,G.buyerUserId=v,G.sellerUserId=k,await Y.loadChatHistory(G,l),j.value=!0,((y=(t=Y.chatHistory)==null?void 0:t.data)==null?void 0:y.isOffer)=="1"&&(j.value=!1)}function he(t){t.target.scrollTop<50&&U.log("load more......")}function q(){const t=new Date().getTime();return U.getTimeStampDividedByOneThousand(parseInt(t.toString(),10))}async function et(t){r.id="",r.addedDateTimeStamp=q(),r.isSold=!1,r.isUserBought=!1,r.itemId=x,r.message=t,r.offerStatus=f.CHAT_STATUS_NULL,r.sendByUserId=l,r.sessionId=R,r.type=f.CHAT_TYPE_TEXT,await A(r,!0)}async function A(t,y=!1){var ie;let h;t.id==""?h=(ie=oe.push().key)!=null?ie:"":h=t.id;const d=t.sendByUserId,V={addedDate:t.addedDateTimeStamp,id:h,isSold:t.isSold,isUserBought:t.isUserBought,itemId:t.itemId,message:t.message,offerStatus:t.offerStatus,sendByUserId:t.sendByUserId,sessionId:t.sessionId,type:t.type},z={itemId:t.itemId,receiverId:M,senderId:d},me={userId:d,userName:"Tester"};oe.child(h).set(V),Ae.child(d).set(z),de.child(d).set(me);let Q="0";E.value&&(Q="1"),y&&(ee==f.CHAT_FROM_SELLER?Y.postChatHistory(x,v,k,f.CHAT_TO_SELLER,Q,t.message,l):Y.postChatHistory(x,v,k,f.CHAT_TO_BUYER,Q,t.message,l)),Ee.value="",He(700)}let ne;function He(t){setTimeout(function(){ne!=null?ne.scrollTop=ne.scrollHeight+400:U.log("it null")},t)}function tt(t){var y,h,d;return t.toString()=="0"?S("item_price__free"):ss((d=(h=(y=se==null?void 0:se.appInfo)==null?void 0:y.data)==null?void 0:h.mobileSetting)==null?void 0:d.price_format,t)}kt(async()=>{var y,h,d,V,z,me,Q,ie,Qe;const t={userId:l,userName:"Tester"};de.child(l).set(t),await ge.resetUnreadMessageCount(l,J),$.postUserUnreadMessageCount(Z),await K(),await D.loadItem(x,l),u.value=(y=D.item.data)==null?void 0:y.title,w.value=(d=(h=D.item.data)==null?void 0:h.category)==null?void 0:d.catName,O.value=(z=(V=D.item.data)==null?void 0:V.defaultPhoto)==null?void 0:z.imgPath,L.value=(me=D.item.data)==null?void 0:me.price,F.value=(ie=(Q=D.item.data)==null?void 0:Q.itemCurrency)==null?void 0:ie.currencySymbol,te.value=(Qe=D.item.data)==null?void 0:Qe.isSoldOut,s.value=!0,window.addEventListener("scroll",he),ne=document.getElementById("messages"),oe.orderByChild("itemId").equalTo(x).on("value",ht=>{pe.data=[];const ye=[];let xe="",ce=j.value;ht.forEach(ae=>{const I=ae.val();if(I.key=ae.key,I.offerStatus==f.CHAT_STATUS_REJECT||I.offerStatus==f.CHAT_STATUS_IS_USER_BOUGHT?ce=!0:I.offerStatus==f.CHAT_STATUS_SOLD?(ce=!1,te.value="1"):ce=j.value,I!=null){if(I.dateTimeString=U.timeStampToDateString(I.addedDate),I.dateTimeString!=null&&I.dateTimeString!=""&&I.dateTimeString.includes(" ")){const We=I.dateTimeString.split(" ");if(I.dateString=We[0],I.timeString=We[1],xe==""||xe!=I.dateString){xe=I.dateString;const ke={};ke.message=I.dateString,ke.type=f.CHAT_TYPE_DATE,ye.push(ke)}}let Se=new Ie;Se=Se.fromMap(I),ye.push(Se)}}),j.value=ce,pe.data=ye.reverse(),He(1500),de.child(M).on("value",ae=>{ae.val()!=null&&ae.val().userId==M?E.value=!0:E.value=!1})})}),Tt(()=>{Ae.child(l).remove(),de.child(l).remove(),window.removeEventListener("scroll",he)});function st(){Be.value.click()}async function ot(t){const y=t.target.files;if(y&&y.length>1)U.log(y.length);else{let h;for(let d=0;d<y.length;d++)h=y[d];if(h!=null){P.value.openModal(),P.value.setMessage(S("chat__uploading_image"));let d;l==k?d=f.CHAT_TO_BUYER:d=f.CHAT_TO_SELLER;let V="0";E.value&&(V="1");const z=await N.postChatImageUpload(l,k,v,x,d,V,h);z.status==W.SUCCESS?(r.addedDateTimeStamp=q(),r.isSold=!1,r.isUserBought=!1,r.itemId=x,r.message=z.data.imgPath,r.offerStatus=f.CHAT_STATUS_NULL,r.sendByUserId=l,r.sessionId=R,r.type=f.CHAT_TYPE_IMAGE,await A(r,!0)):U.log("error"),P.value.closeModal()}}}function rt(){we.value.openModal(u.value,w.value,O.value,F.value,L.value)}async function it(t,y){let h="0";E.value&&(h="1"),e.itemId=x,e.buyerUserId=v,e.sellerUserId=k,e.negoPrice=t,e.type=f.CHAT_TO_SELLER,e.isUserOnline=h,e.message=t,P.value.openModal();const d=await H.makeOffer(v,e);d.status==W.ERROR?U.log(d.message):(r.id="",r.addedDateTimeStamp=q(),r.isSold=!1,r.isUserBought=!1,r.itemId=x,r.message=y+" "+t,r.offerStatus=f.CHAT_STATUS_OFFER,r.sendByUserId=l,r.sessionId=R,r.type=f.CHAT_TYPE_OFFER,await A(r)),await K(),P.value.closeModal()}function at(t){X.value.openModal(S("chat__accept_title"),S("chat__confirm_to_accept_dialog"),S("chat__confirm"),S("chat__cancel"),()=>{lt(t)},()=>{U.log("cancel")})}async function lt(t){let y="0";E.value&&(y="1"),e.itemId=x,e.buyerUserId=v,e.sellerUserId=k,e.negoPrice=t.message,e.type=f.CHAT_TO_BUYER,e.isUserOnline=y,e.message=t.message,P.value.openModal();const h=await H.acceptOffer(l,e);if(h.status==W.ERROR)U.log(h.message);else{r.id=t.id,r.isSold=!1,r.isUserBought=!1,r.itemId=t.itemId,r.message=t.message,r.offerStatus=f.CHAT_STATUS_OFFER,r.sendByUserId=t.sendByUserId,r.sessionId=t.sessionId,r.type=f.CHAT_TYPE_ACCEPT,r.addedDateTimeStamp=t.addedDate,await A(r);const d=new le().ChatAcceptParameterHolder();d.addedDateTimeStamp=q(),d.isSold=!1,d.isUserBought=!1,d.itemId=x,d.message=t.message,d.offerStatus=f.CHAT_STATUS_ACCEPT,d.type=f.CHAT_TYPE_ACCEPT,d.sendByUserId=l,d.sessionId=R,await A(d)}await K(),P.value.closeModal()}async function Oe(t){let y="0";E.value&&(y="1"),T.itemId=x,T.buyerUserId=v,T.sellerUserId=k,T.isUserOnline=y,P.value.openModal();const h=await H.isUserBought(l,T);if(h.status==W.ERROR)U.log(h.message);else{r.addedDateTimeStamp=t.addedDate,r.isSold=!1,r.isUserBought=!0,r.id=t.id,r.itemId=t.itemId,r.message=t.message,r.offerStatus=f.CHAT_STATUS_ACCEPT,r.sendByUserId=t.sendByUserId,r.sessionId=t.sessionId,r.type=f.CHAT_TYPE_TEXT,await A(r);const d=new le;d.addedDateTimeStamp=q(),d.isSold=!1,d.isUserBought=!0,d.itemId=x,d.message=t.message,d.offerStatus=f.CHAT_STATUS_IS_USER_BOUGHT,d.sendByUserId=l,d.sessionId=R,d.type=f.CHAT_TYPE_BOUGHT,await A(d)}await K(),P.value.closeModal()}function dt(t){X.value.openModal(S("item_detail__mark_as_sold_out"),S("item_detail__confirm_to_sold_out"),S("chat__confirm"),S("chat__cancel"),()=>{nt(t)},()=>{U.log("Cancel")})}async function nt(t){T.itemId=x,T.buyerUserId=v,T.sellerUserId=k,P.value.openModal();const y=await H.markAsSold(l,T);if(y.status==W.ERROR)U.log(y.message);else{r.id=t.id,r.isSold=!0,r.isUserBought=!0,r.itemId=t.itemId,r.message=t.message,r.offerStatus=f.CHAT_STATUS_ACCEPT,r.sendByUserId=t.sendByUserId,r.sessionId=t.sessionId,r.type=f.CHAT_TYPE_TEXT,r.addedDateTimeStamp=t.addedDate,await A(r);const h=new le;h.addedDateTimeStamp=q(),h.isSold=!0,h.isUserBought=!0,h.itemId=x,h.message=t.message,h.offerStatus=f.CHAT_STATUS_SOLD,h.sendByUserId=l,h.sessionId=R,h.type=f.CHAT_TYPE_SOLD,await A(h)}await K(),P.value.closeModal()}function mt(t){X.value.openModal(S("chat__reject_title"),S("chat__confirm_to_reject_dialog"),S("chat__confirm"),S("chat__cancel"),()=>{ft(t)},()=>{U.log("cancel")})}function ct(t){X.value.openModal(S("chat__user_pickup_title"),S("chat__confirm_to_user_pickup_dialog"),S("chat__confirm"),S("chat__cancel"),()=>{Oe(t)},()=>{U.log("cancel")})}function _t(t,y=""){X.value.openModal(S("chat__delete_message_title"),S("chat__confirm_to_delete_dialog"),S("chat__remove"),S("chat__cancel"),()=>{y!=""?Re(t.id):Me(t.id,y)},()=>{U.log("cancel"),re.value=""})}async function ft(t){let y="0";E.value&&(y="1"),e.itemId=x,e.buyerUserId=v,e.sellerUserId=k,e.negoPrice="0",e.type=f.CHAT_TO_BUYER,e.isUserOnline=y,e.message=t.message,P.value.openModal();const h=await H.makeOffer(l,e);if(h.status==W.ERROR)U.log(h.message);else{r.id=t.id,r.isSold=!1,r.isUserBought=!1,r.itemId=t.itemId,r.message=t.message,r.offerStatus=f.CHAT_STATUS_OFFER,r.sendByUserId=t.sendByUserId,r.sessionId=t.sessionId,r.type=f.CHAT_TYPE_REJECT,r.addedDateTimeStamp=t.addedDate,await A(r);const d=new le().ChatAcceptParameterHolder();d.addedDateTimeStamp=q(),d.isSold=!1,d.isUserBought=!1,d.itemId=x,d.message=t.message,d.offerStatus=f.CHAT_STATUS_REJECT,d.type=f.CHAT_TYPE_REJECT,d.sendByUserId=l,d.sessionId=R,await A(d)}await K(),P.value.closeModal()}function ut(t){be.value.openModal(t)}function gt(){Pe.value.openModal(M,()=>{Ue.value.openModal(S("chat__review_error"))},()=>{ve.value.openModal("",S("chat__review_sent"))})}async function Re(t){await oe.child(t).remove()}async function Me(t,y){await oe.child(t).remove(),N.postChatImageDelete(y,l)}function pt(t){re.value==""?re.value=t!=null?t:"":re.value=""}return{dataReady:s,chatHistoryProvider:Y,userStore:De,sellerUserId:k,handleScroll:he,chats:pe,chatFlag:ee,sendMessage:A,inputMessageController:Ee,itemName:u,itemCategory:w,itemId:x,itemImageName:O,itemPrice:L,currency:F,PsConst:f,loginUserId:l,otherUserId:M,isOtherUserOnline:E,onImageClick:st,image:Be,onImageSelected:ot,ps_loading_dialog:P,ps_confirm_dialog:X,makeOfferClicked:rt,offer_modal:we,review_modal:Pe,submitOffer:it,offerProvider:H,acceptOffer:at,rejectOffer:mt,sendNormalMessage:et,isUserBought:Oe,markAsSoldClick:dt,imageView:ut,chat_image:be,showOffer:j,clickGiveReview:gt,ps_error_dialog:Ue,ps_success_dialog:ve,formatPrice:tt,isSoldOut:te,chatDelete:Re,chatImageDelete:Me,userPickup:ct,deleteChatId:re,showDeleteDropDown:pt,deleteConfirm:_t,moment:as}},computed:{breadcrumb(){return[{label:S("chat__chat_list"),url:route("fe_chat_list")},{label:"Chat",color:"text-fePrimary-500"}]}}},fs={class:"relative flex flex-col",style:{height:"90vh"}},us={class:"lg:mt-32 mt-28 h-48 flex flex-col"},gs={class:"flex flex-wrap items-center mb-2 mt-2 p-2 bg-gray-50 rounded dark:bg-feBackgroundDark"},ps={class:"flex flex-row content-end items-center cursor-pointer"},hs={alt:"Placeholder",width:"300px",height:"200px",class:"w-12 h-12 object-cover bg-white rounded-full me-2"},ys={class:"grow"},xs={key:0,class:"flex flex-row items-center"},Ss={key:1,class:"flex flex-row items-center"},ks=a("div",{class:"w-52"},null,-1),Ts={key:0,class:"flex sm:flex-row justify-between bg-gray-50 p-2 rounded dark:bg-feBackgroundDark"},Cs={class:"flex flex-row cursor-pointer"},Is={alt:"Placeholder",class:"w-16 h-16 bg-white rounded-md"},vs={class:"grow grid grid-col-4 sm:flex sm:justify-between ms-4"},Us={class:"col-span-2"},bs={class:"col-span-2 sm:hidden flex items-center justify-end"},ws={class:"col-span-4 flex items-center me-2"},Ps={key:0,class:"chat"},Bs={key:0},As={class:"flex w-full justify-center"},Ds={class:"px-4 py-2 mt-2 mb-1 rounded-lg inline-block font-medium"},Es={key:1},Hs={key:0},Os={key:0,class:"w-full flex justify-end ps-1/3 flex-row items-end"},Rs={class:"px-2 py-4 mt-2 mb-1 rounded-md inline-block rounded-bl-none bg-blue-500"},Ms=a("br",null,null,-1),Ls={key:1,class:"pe-1/3 flex flex-col"},Fs={class:"flex flex-row items-end"},Ys={class:"px-2 py-4 mt-2 mb-1 rounded-md inline-block rounded-br-none bg-blue-500"},Ns=a("br",null,null,-1),Gs=a("br",{class:"sm:hidden"},null,-1),qs={key:1},Vs={key:0,class:"w-full flex justify-end ps-1/3 flex-row items-end"},zs={class:"px-4 py-2 mt-2 mb-1 rounded-lg inline-block rounded-bl-none bg-red-500 text-white"},Js={key:1,class:"pe-1/3 flex flex-col"},Xs={class:"flex flex-row items-end"},js={class:"px-4 py-2 mt-2 mb-1 rounded-lg inline-block rounded-br-none bg-red-500"},Ks={key:2},Qs={key:0},Ws={key:1},Zs={key:0,class:"w-full flex flex-col justify-end items-end"},$s={class:"flex flex-row items-end mb-2"},eo={class:"px-2 py-4 rounded-md inline-block rounded-bl-none bg-green-500"},to={key:0,class:"flex flex-row items-end mb-2"},so={class:"px-2 py-4 rounded-md inline-block rounded-bl-none bg-blue-500"},oo={key:1,class:"flex flex-row items-end mb-2"},ro={class:"px-2 py-4 rounded-md inline-block rounded-bl-none bg-red-500"},io={key:2,class:"flex justify-center w-full mt-5"},ao={key:1,class:"pe-1/3 flex flex-col"},lo={class:"flex flex-row items-end mb-2"},no={class:"px-2 py-4 rounded-md inline-block rounded-br-none bg-green-500"},mo={key:0,class:"flex flex-row items-end mb-2"},co={class:"px-2 py-4 rounded-md inline-block rounded-br-none bg-blue-500"},_o={key:1,class:"flex flex-row items-end mb-2"},fo={class:"px-2 py-4 rounded-md inline-block rounded-br-none bg-red-500"},uo={key:3},go={key:0,class:"w-full flex justify-end ps-1/3 flex-row items-end"},po={class:""},ho={class:"relative"},yo=["onClick"],xo={class:"p-4 mt-2 mb-1 rounded-md inline-block rounded-bl-none bg-feSecondary-100 dark:bg-feSecondaryDark-black"},So={key:1,class:"pe-1/3 flex flex-row items-end"},ko={class:"p-4 mt-2 mb-1 rounded-md inline-block rounded-br-none bg-fePrimary-500"},To={key:2},Co={class:"mt-5 mb-2 grid grid-cols-4 gap-x-4 sm:flex sm:flex-row sm:justify-center rtl:space-x-reverse sm:space-x-3"},Io={class:"col-span-2"},vo={key:0,class:"col-span-2"},Uo={key:3},bo={class:"w-full mt-5 flex justify-center items-center"},wo={key:4},Po={key:0,class:"w-full flex justify-end ps-1/3 flex-row items-end"},Bo={class:"px-2 py-4 mt-2 mb-1 rounded-md inline-block rounded-bl-none bg-blue-500"},Ao=a("br",null,null,-1),Do={key:1,class:"flex flex-col"},Eo={class:"flex flex-row items-end"},Ho={class:"px-2 py-4 mt-2 mb-1 rounded-md block rounded-br-none bg-blue-500"},Oo=a("br",null,null,-1),Ro={key:0,class:"mt-5 mb-2 grid grid-cols-4 gap-4 sm:flex sm:flex-row sm:justify-center rtl:space-x-reverse sm:space-x-4"},Mo={key:5},Lo={key:0,class:"w-full flex justify-end ps-1/3 flex-row items-end h-48 mt-4"},Fo={class:"relative"},Yo=["onClick"],No=["onClick"],Go={key:1,class:"pe-1/3 flex flex-row items-end h-48 mt-4"},qo=["onClick"],Vo={class:"mt-2 mb-0 sm:mb-0 absolute inset-y-full w-full"},zo={class:"relative flex pt-1 w-full"},Jo={type:"button",class:"inline-flex items-center justify-center rounded-full h-10 w-10 transition duration-500 ease-in-out"},Xo={class:"grow relative"};function jo(n,o,l,s,Z,D){const $=b("Head"),v=b("ps-breadcrumb-2"),k=b("ps-route-link"),u=b("ps-label"),w=b("ps-icon"),x=b("ps-button"),O=b("ps-label-caption-2"),L=b("ps-input"),F=b("ps-content-container"),ee=b("ps-loading-dialog"),te=b("ps-confirm-dialog-2"),fe=b("ps-error-dialog"),se=b("ps-success-dialog"),ue=b("chat-image-detail"),Y=b("offer-modal"),ge=b("review-modal"),N=Ct("lazy");return g(),p($e,null,[i($,{title:n.$t("chat__title")},null,8,["title"]),i(F,{class:"h-screen"},{content:m(()=>{var H,G;return[a("div",fs,[a("div",us,[i(v,{items:D.breadcrumb},null,8,["items"]),a("div",gs,[i(k,{to:{name:"fe_other_profile",query:{userId:(G=(H=s.userStore.user)==null?void 0:H.data)==null?void 0:G.userId}},class:"w-16"},{default:m(()=>{var e,r;return[a("div",ps,[_e(a("img",hs,null,512),[[N,{src:n.$page.props.thumb1xUrl+"/"+((r=(e=s.userStore.user)==null?void 0:e.data)==null?void 0:r.userCoverPhoto),loading:n.$page.props.sysImageUrl+"/loading_gif.gif",error:n.$page.props.sysImageUrl+"/default_photo.png"}]])])]}),_:1},8,["to"]),a("div",ys,[i(u,{class:"font-medium text-base"},{default:m(()=>{var e,r;return[_(c((r=(e=s.userStore.user)==null?void 0:e.data)==null?void 0:r.userName),1)]}),_:1}),s.isOtherUserOnline?(g(),p("div",xs,[i(w,{name:"dot",w:"10",h:"10",class:"text-green-300 me-2"}),i(u,null,{default:m(()=>[_(c(n.$t("chat__online")),1)]),_:1})])):(g(),p("div",Ss,[i(w,{name:"dot",w:"10",h:"10",class:"text-gray-300 me-2"}),i(u,null,{default:m(()=>[_(c(n.$t("chat__offline")),1)]),_:1})]))]),ks,s.chatFlag==s.PsConst.CHAT_FROM_SELLER?(g(),It(x,{key:0,onClick:Ze(s.makeOfferClicked,["prevent"]),rounded:"rounded",class:"mt-2 sm:mt-0",disabled:!(s.isSoldOut!="1"&&s.showOffer)},{default:m(()=>[_(c(n.$t("chat__make_an_offer")),1)]),_:1},8,["onClick","disabled"])):B("",!0)]),s.dataReady?(g(),p("div",Ts,[i(k,{to:{name:"fe_item_detail",query:{item_id:s.itemId}}},{default:m(()=>[a("div",Cs,[_e(a("img",Is,null,512),[[N,{src:n.$page.props.thumb2xUrl+"/"+s.itemImageName,loading:n.$page.props.sysImageUrl+"/loading_gif.gif",error:n.$page.props.sysImageUrl+"/default_photo.png"}]])])]),_:1},8,["to"]),a("div",vs,[a("div",Us,[i(u,{textColor:"font-semibold text-fePrimary-500",class:"text-xs sm:text-xl"},{default:m(()=>[_(c(s.itemName),1)]),_:1}),i(u,{class:"font-normal text-lg"},{default:m(()=>[_(c(s.itemCategory),1)]),_:1}),i(u,{class:"font-normal text-xs",textColor:"text-gray-500"},{default:m(()=>[_(c(s.currency)+" "+c(s.formatPrice(s.itemPrice)),1)]),_:1})]),a("div",bs,[i(k,{to:{name:"fe_item_detail",query:{item_id:s.itemId}},class:"block sm:hidden"},{default:m(()=>[i(w,{name:"doubleRightArrow"})]),_:1},8,["to"])]),a("div",ws,[i(x,{class:Te([s.isSoldOut=="1"?"":"hidden","h-[20px] sm:h-[28px]"]),rounded:"rounded",hover:!1},{default:m(()=>[_(c(n.$t("chat__mark_sold_out")),1)]),_:1},8,["class"]),i(k,{to:{name:"fe_item_detail",query:{item_id:s.itemId}},class:"hidden sm:block"},{default:m(()=>[i(w,{name:"doubleRightArrow"})]),_:1},8,["to"])])])])):B("",!0)]),a("div",{ref:"messages",onScroll:o[2]||(o[2]=(...e)=>s.handleScroll&&s.handleScroll(...e)),id:"messages",class:"px-4 flex flex-col-reverse overflow-y-auto mt-14 sm:mt-3 h-full scrolling-touch"},[(g(!0),p($e,null,vt(s.chats.data,e=>{var r;return g(),p("div",{key:(r=e.id)!=null?r:""},[e.message!=""&&e.message!=null?(g(),p("div",Ps,[e.type==s.PsConst.CHAT_TYPE_DATE?(g(),p("div",Bs,[a("div",As,[a("span",Ds,[i(u,null,{default:m(()=>[_(c(e.message),1)]),_:2},1024)])])])):e.type==s.PsConst.CHAT_TYPE_TEXT?(g(),p("div",Es,[e.offerStatus==s.PsConst.CHAT_STATUS_OFFER?(g(),p("div",Hs,[e.sendByUserId==s.loginUserId?(g(),p("div",Os,[i(u,{class:"me-2 mb-1 text-xs font-normal",textColor:"text-feBackgroundDark dark:text-feTextLight"},{default:m(()=>[_(c(e.timeString),1)]),_:2},1024),a("span",Rs,[i(u,{class:"text-center",textColor:"text-feBackgroundDark"},{default:m(()=>[_(c(n.$t("chat__send_offer"))+" ",1),Ms,_(c(s.itemPrice=="0"?n.$t("item_price__free"):e.message),1)]),_:2},1024)])])):(g(),p("div",Ls,[a("div",Fs,[a("span",Ys,[i(u,{textColor:"text-feTextLight"},{default:m(()=>[_(c(n.$t("chat__receive_offer"))+" ",1),Ns,_(c(s.itemPrice=="0"?n.$t("item_price__free"):e.message),1)]),_:2},1024)]),Gs,i(u,{class:"ms-2 mb-1 text-xs font-normal",textColor:"text-feBackgroundDark dark:text-feTextLight"},{default:m(()=>[_(c(e.timeString),1)]),_:2},1024)])]))])):e.offerStatus==s.PsConst.CHAT_STATUS_REJECT?(g(),p("div",qs,[e.sendByUserId==s.loginUserId?(g(),p("div",Vs,[i(u,{class:"me-2 mb-1 text-xs font-normal",textColor:"text-feBackgroundDark dark:text-feTextLight"},{default:m(()=>[_(c(e.timeString),1)]),_:2},1024),a("span",zs,[i(u,{class:"text-center",textColor:"text-feBackgroundDark dark:text-feTextLight"},{default:m(()=>[_(c(n.$t("chat__offer_rejected_item")),1)]),_:1})])])):(g(),p("div",Js,[a("div",Xs,[a("span",js,[i(u,{textColor:"text-feTextLight"},{default:m(()=>[_(c(n.$t("chat__offer_rejected_item")),1)]),_:1})]),i(u,{class:"ms-2 mb-1 text-xs font-normal",textColor:"text-feBackgroundDark dark:text-feTextLight"},{default:m(()=>[_(c(e.timeString),1)]),_:2},1024)])]))])):e.offerStatus==s.PsConst.CHAT_STATUS_ACCEPT?(g(),p("div",Ks,[e.isSold&&e.isUserBought?(g(),p("div",Qs)):(g(),p("div",Ws,[e.sendByUserId==s.loginUserId?(g(),p("div",Zs,[a("div",$s,[i(u,{class:"me-2 mb-1 text-xs font-normal",textColor:"text-feBackgroundDark dark:text-gray-400"},{default:m(()=>[_(c(e.timeString),1)]),_:2},1024),a("span",eo,[i(u,{class:"text-center",textColor:"text-feTextLight"},{default:m(()=>[_(c(n.$t("chat__offer_accepted_item")),1)]),_:1})])]),e.isUserBought?(g(),p("div",to,[i(u,{class:"me-2 mb-1 text-xs font-normal",textColor:"text-feBackgroundDark dark:text-gray-400"},{default:m(()=>[_(c(e.timeString),1)]),_:2},1024),a("span",so,[i(u,{class:"text-center",textColor:"text-feTextLight"},{default:m(()=>[_(c(n.$t("chat__offer_item_pickup")),1)]),_:1})])])):B("",!0),s.isSoldOut=="1"?(g(),p("div",oo,[i(u,{class:"me-2 mb-1 text-xs font-normal",textColor:"text-feBackgroundDark dark:text-gray-400"},{default:m(()=>[_(c(e.timeString),1)]),_:2},1024),a("span",ro,[i(u,{class:"text-center",textColor:"text-feTextLight"},{default:m(()=>[_(c(n.$t("chat__offer_item_soldout")),1)]),_:1})])])):B("",!0),e.offerStatus==s.PsConst.CHAT_STATUS_ACCEPT&&e.isUserBought==!1?(g(),p("div",io,[i(x,{onClick:T=>s.userPickup(e),colors:"bg-white text-fePrimary-500 dark:bg-gray-800 dark:text-gray-200 hover:text-white",focus:"focus:text-white focus:bg-fePrimary-500",border:"border border-gray-300 dark:border-gray-500"},{default:m(()=>[_(c(n.$t("chat__user_has_a_pickup")),1)]),_:2},1032,["onClick"])])):B("",!0)])):(g(),p("div",ao,[a("div",lo,[a("span",no,[i(u,{class:"",textColor:"text-feTextLight"},{default:m(()=>[_(c(n.$t("chat__offer_accepted_item")),1)]),_:1})]),i(u,{class:"ms-2 mb-1 text-xs font-normal",textColor:"text-feBackgroundDark dark:text-feTextLight"},{default:m(()=>[_(c(e.timeString),1)]),_:2},1024)]),e.isUserBought?(g(),p("div",mo,[a("span",co,[i(u,{class:"text-center",textColor:"text-feTextLight"},{default:m(()=>[_(c(n.$t("chat__offer_item_pickup")),1)]),_:1})]),i(u,{class:"ms-2 mb-1 text-xs font-normal",textColor:"text-feBackgroundDark dark:text-gray-400"},{default:m(()=>[_(c(e.timeString),1)]),_:2},1024)])):B("",!0),s.isSoldOut=="1"?(g(),p("div",_o,[a("span",fo,[i(u,{class:"text-center",textColor:"text-feTextLight"},{default:m(()=>[_(c(n.$t("chat__offer_item_soldout")),1)]),_:1})]),i(u,{class:"ms-2 mb-1 text-xs font-normal",textColor:"text-feBackgroundDark dark:text-gray-400"},{default:m(()=>[_(c(e.timeString),1)]),_:2},1024)])):B("",!0)]))]))])):(g(),p("div",uo,[e.sendByUserId==s.loginUserId?(g(),p("div",go,[a("div",po,[i(O,{onClick:T=>s.showDeleteDropDown(e.id),class:Te([s.deleteChatId==e.id?"":"del","cursor-pointer rounded float-right"]),textColor:"text-feBackgroundDark dark:text-gray-400"},{default:m(()=>[i(w,{name:"verticalThreeDot",class:"text-feBackgroundDark"})]),_:2},1032,["onClick","class"]),a("div",ho,[s.deleteChatId==e.id?(g(),p("div",{key:0,onClick:T=>s.deleteConfirm(e),class:"bg-white shadow-sm absolute top-4 right-2 px-5 py-1 rounded border transform cursor-pointer text-sm dark:bg-feBackgroundDark dark:text-feTextLight"},c(n.$t("chat__delete_messages")),9,yo)):B("",!0)]),i(u,{class:"me-2 mb-1 text-xs font-normal",textColor:"text-feBackgroundDark dark:text-gray-400"},{default:m(()=>[_(c(e.timeString),1)]),_:2},1024)]),a("span",xo,[i(u,{class:"text-sm"},{default:m(()=>[_(c(e.message),1)]),_:2},1024)])])):(g(),p("div",So,[a("span",ko,[i(u,{textColor:"text-feTextLight",class:"text-sm"},{default:m(()=>[_(c(e.message),1)]),_:2},1024)]),i(u,{class:"ms-2 mb-1 text-xs font-normal",textColor:"text-feBackgroundDark dark:text-gray-400"},{default:m(()=>[_(c(e.timeString),1)]),_:2},1024)]))]))])):e.type==s.PsConst.CHAT_TYPE_BOUGHT?(g(),p("div",To,[a("div",Co,[a("div",Io,[i(x,{onClick:o[0]||(o[0]=T=>s.clickGiveReview()),colors:"bg-white text-fePrimary-500 dark:bg-gray-800 dark:text-gray-200 hover:text-white",border:"border border-gray-300 dark:border-gray-500"},{default:m(()=>[_(c(n.$t("chat__leave_a_review")),1)]),_:1})]),e.sendByUserId==s.loginUserId&&e.offerStatus==s.PsConst.CHAT_STATUS_IS_USER_BOUGHT?(g(),p("div",vo,[i(x,{onClick:T=>s.markAsSoldClick(e),class:"w-full",colors:"bg-fePrimary-500 text-white dark:bg-gray-800 dark:text-gray-200 hover:text-white",border:"border border-gray-300 dark:border-gray-500"},{default:m(()=>[_(c(n.$t("chat__mark_sold_out")),1)]),_:2},1032,["onClick"])])):B("",!0)])])):e.type==s.PsConst.CHAT_TYPE_SOLD?(g(),p("div",Uo,[a("div",bo,[a("div",null,[i(x,{onClick:o[1]||(o[1]=T=>s.clickGiveReview()),class:"h-9",colors:"bg-white text-fePrimary-500 dark:bg-gray-800 dark:text-gray-200 hover:text-white",border:"border border-gray-300 dark:border-gray-500"},{default:m(()=>[_(c(n.$t("chat__leave_a_review")),1)]),_:1})])])])):e.type==s.PsConst.CHAT_TYPE_OFFER?(g(),p("div",wo,[e.sendByUserId==s.loginUserId?(g(),p("div",Po,[i(u,{class:"me-2 mb-1 text-xs font-normal",textColor:"text-feBackgroundDark dark:text-gray-400"},{default:m(()=>[_(c(e.timeString),1)]),_:2},1024),a("span",Bo,[i(u,{class:"text-center",textColor:"text-feBackgroundDark"},{default:m(()=>[_(c(n.$t("chat__send_offer"))+" ",1),Ao,_(c(s.itemPrice=="0"?n.$t("item_price__free"):e.message),1)]),_:2},1024)])])):(g(),p("div",Do,[a("div",Eo,[a("span",Ho,[i(u,{class:"dark:text-fePrimaryDark-black",textColor:"text-feTextLight"},{default:m(()=>[_(c(n.$t("chat__receive_offer"))+" ",1),Oo,_(c(s.itemPrice=="0"?n.$t("item_price__free"):e.message),1)]),_:2},1024)]),i(u,{class:"ms-2 mb-2 text-xs font-normal",textColor:"text-feBackgroundDark dark:text-feTextLight"},{default:m(()=>[_(c(e.timeString),1)]),_:2},1024)]),e.offerStatus==s.PsConst.CHAT_STATUS_OFFER?(g(),p("div",Ro,[i(x,{onClick:T=>s.acceptOffer(e),class:"col-span-2 sm:w-[140px] h-9",textSize:"font-normal text-xxs lg:text-sm",colors:"bg-green-600 cursor-pointer text-feTextLight",rounded:"rounded",hover:"hover:bg-green-700",focus:"focus:bg-green-700"},{default:m(()=>[_(c(n.$t("chat__accept")),1)]),_:2},1032,["onClick"]),i(x,{onClick:T=>s.rejectOffer(e),class:"col-span-2 sm:w-[140px] h-9",textSize:"font-normal text-xxs lg:text-sm",colors:"text-fePrimary-500 dark:bg-gray-800 dark:text-gray-200 hover:text-white",focus:"focus:text-white focus:bg-fePrimary-500",border:"border border-gray-300 dark:border-gray-500",rounded:"rounded"},{default:m(()=>[_(c(n.$t("chat__reject")),1)]),_:2},1032,["onClick"])])):B("",!0)]))])):e.type==s.PsConst.CHAT_TYPE_IMAGE?(g(),p("div",Mo,[e.sendByUserId==s.loginUserId?(g(),p("div",Lo,[a("div",Fo,[i(O,{onClick:T=>s.showDeleteDropDown(e.id),class:Te([s.deleteChatId==e.id?"":"del","cursor-pointer rounded float-right"]),textColor:"text-feBackgroundDark dark:text-gray-400"},{default:m(()=>[i(w,{name:"verticalThreeDot",class:"text-feBackgroundDark"})]),_:2},1032,["onClick","class"]),s.deleteChatId==e.id?(g(),p("div",{key:0,onClick:T=>s.deleteConfirm(e,e.message),class:"bg-white shadow-sm absolute top-4 right-2 p-1 rounded border cursor-pointer transform"},c(n.$t("chat__delete_messages")),9,Yo)):B("",!0),i(u,{class:"me-2 mb-1 text-xs font-normal",textColor:"text-feBackgroundDark dark:text-gray-400"},{default:m(()=>[_(c(e.timeString),1)]),_:2},1024)]),_e(a("img",{onClick:T=>s.imageView(e.message),width:"300px",height:"200px",alt:"Placeholder",class:"cursor-pointer w-auto h-48 p-2 object-cover rounded-md"},null,8,No),[[N,{src:n.$page.props.thumb3xUrl+"/"+e.message,loading:n.$page.props.sysImageUrl+"/loading_gif.gif",error:n.$page.props.sysImageUrl+"/default_photo.png"}]])])):(g(),p("div",Go,[_e(a("img",{onClick:T=>s.imageView(e.message),width:"300px",height:"200px",alt:"Placeholder",class:"cursor-pointer w-auto h-48 p-2 object-cover rounded-md"},null,8,qo),[[N,{src:n.$page.props.thumb3xUrl+"/"+e.message,loading:n.$page.props.sysImageUrl+"/loading_gif.gif",error:n.$page.props.sysImageUrl+"/default_photo.png"}]]),i(u,{class:"me-2 mb-1 text-xs font-normal",textColor:"text-feBackgroundDark dark:text-gray-400"},{default:m(()=>[_(c(e.timeString),1)]),_:2},1024)]))])):B("",!0)])):B("",!0)])}),128))],544),a("div",Vo,[a("div",zo,[a("div",{for:"upload-image1",onClick:o[4]||(o[4]=(...e)=>s.onImageClick&&s.onImageClick(...e))},[a("input",{class:"py-2",type:"file",size:"1",max:"1",accept:".jpg,.jpeg,.png",onChange:o[3]||(o[3]=e=>s.onImageSelected(e)),ref:"image",id:"upload-image1",style:{display:"none"},ordering:1},null,544),a("button",Jo,[i(w,{name:"camera",textColor:"text-fePrimary-500 dark:text-fePrimary-500"})])]),a("div",Xo,[i(L,{placeholder:n.$t("chat__type_message"),onKeyup:o[5]||(o[5]=Ut(e=>s.sendNormalMessage(s.inputMessageController),["enter"])),value:s.inputMessageController,"onUpdate:value":o[6]||(o[6]=e=>s.inputMessageController=e),class:"mt-1",theme:"form-input dark:bg-fePrimaryDark-black text-feSecondary-500 dark:text-feSecondaryDark-white"},null,8,["placeholder","value"]),a("button",{type:"button",onClick:o[7]||(o[7]=Ze(e=>s.sendNormalMessage(s.inputMessageController),["prevent"])),class:"absolute right-3 top-3"},[i(w,{name:"send",textColor:"text-fePrimary-500 dark:text-fePrimary-500"})])])])])])]}),_:1}),i(ee,{ref:"ps_loading_dialog"},null,512),i(te,{ref:"ps_confirm_dialog"},null,512),i(fe,{ref:"ps_error_dialog"},null,512),i(se,{ref:"ps_success_dialog"},null,512),i(ue,{ref:"chat_image"},null,512),i(Y,{ref:"offer_modal",price:s.itemPrice,onSubmit:s.submitOffer},null,8,["price","onSubmit"]),i(ge,{ref:"review_modal"},null,512)],64)}var Ti=ls(_s,[["render",jo]]);export{Ti as default};
