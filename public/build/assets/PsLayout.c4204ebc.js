import{i as y,j as $,k as Y,o as s,c as u,l as B,b as i,w as d,n as b,a as r,g as S,T as ne,r as g,f as F,t as f,d as V,J as C,p as x,L as R,B as ae,K as U,M as se,N as le,O as z,P as re,Q as X,F as O,q as N,m as H,h as ie,C as M,H as Z,R as Q,u as E}from"./app.03d0793a.js";import{P as T}from"./PsIcon.b0f3f247.js";import{_ as L}from"./plugin-vue_export-helper.21dcd24c.js";import{P as j}from"./PsLabel.3118c88c.js";import{P as J,b as de}from"./PsModal.a7f1bbd4.js";import{P as G}from"./PsButton.61467ff7.js";import{P as ce}from"./PsTextButton.c9a84bdc.js";import{f as W}from"./index.esm.074946f0.js";import"./auth.esm.ec72dae1.js";import{P as ue}from"./PsInputWithRightIcon.3b0aa6af.js";const me={name:"PsDropdown",props:{horizontalAlign:{type:String,default:"left"},h:{type:String,default:" h-56 "},verticalAlign:{type:String,default:""},disabled:{type:Boolean,default:!1}},emits:["on-click"],setup(e,{emit:n}){const t=y(!1);function o(){t.value&&(t.value=!t.value)}const _=y();function m(c){_.value.contains(c.target)||o()}$(()=>{document.addEventListener("click",m)}),Y(()=>{document.removeEventListener("click",m)});function l(){t.value=!t.value,n("on-click")}return{isMenuOpen:t,dropdown:_,hide:o,clicked:l}}},_e={class:"relative inline-block text-left text-secondary-500",ref:"dropdown"},ge={key:0},fe={class:"flex flex-col"};function pe(e,n,t,o,_,m){return s(),u("div",_e,[t.disabled?(s(),u("div",ge,[B(e.$slots,"select")])):(s(),u("div",{key:1,onClick:n[0]||(n[0]=(...l)=>o.clicked&&o.clicked(...l))},[B(e.$slots,"select")])),i(ne,{"enter-active-class":"transition ease-out duration-100","enter-class":"transform opacity-0 scale-95","enter-to-class":"transform opacity-100 scale-100","leave-active-class":"transition ease-in duration-75","leave-class":"transform opacity-100 scale-100","leave-to-class":"transform opacity-0 scale-95"},{default:d(()=>[o.isMenuOpen?(s(),u("div",{key:0,class:b(["absolute mt-2 rounded-md shadow-lg text-sm overflow-hidden border z-20 overflow-y-auto bg-background dark:bg-backgroundDark",[t.horizontalAlign=="right"?"ltr:origin-top-right ltr:right-0 rtl:origin-top-left rtl:left-0":t.horizontalAlign=="left"?"ltr:origin-top-left ltr:left-0 rtl:origin-top-right rtl:right-0":"ltr:origin-top-right ltr:right-0 rtl:origin-top-right rtl:right-0",t.verticalAlign,t.h]])},[r("div",fe,[B(e.$slots,"filter"),r("div",{onClick:n[1]||(n[1]=l=>o.isMenuOpen=!o.isMenuOpen)},[B(e.$slots,"list")]),B(e.$slots,"loadmore")])],2)):S("",!0)]),_:3})],512)}var he=L(me,[["render",pe]]);const be={name:"PsDropdownSelect",components:{PsIcon:T},props:{selectedValue:{type:String,default:""},bgColor:{type:String,default:" "},w:{type:String,default:"w-full"},h:{type:String,default:"10"},id:{type:String},rounded:{type:String,default:" rounded"},text:{type:String,default:"text-xs lg:text-sm font-medium text-secondary-600 dark:text-secondary-100"},iconTheme:{type:String,default:"text-secondary-500 dark:text-secondary-200 "},padding:{type:String,default:" px-4 py-2 "},border:{type:String,default:"border border-1 border-secondary-200 dark:border-secondary-800"},shadow:{type:String,default:"shadow-sm"},justify:{type:String,default:"flex justify-between "},hover:{type:String,default:""},focus:{type:String,default:" focus:outline-none focus:shadow-outline-blue text-secondary-800 dark:text-secondary-400 active:bg-primary-200 active:text-secondary-800 dark:active:bg-primary-200 dark:active:text-secondary-800"},cursor:{type:String,default:"cursor-pointer"},opacity:{type:String,default:"opacity-100"},leftIcon:{type:String,default:""},leftIconTheme:{type:String,default:"me-1"},placeholder:{type:String,default:""},disabled:{type:Boolean,default:!1}},setup(){}},ye=["disabled","id"],ve={class:"flex flex-row"};function ke(e,n,t,o,_,m){const l=g("ps-icon");return s(),u("button",{type:"button",disabled:t.disabled,class:b(["parent inline-flex items-center leading-5 transition ease-in-out duration-150 btn-focus",[t.bgColor,t.w,t.h,t.padding,t.shadow,t.rounded,t.border,t.hover,t.focus,t.cursor,t.opacity]]),id:t.id,"aria-haspopup":"true","aria-expanded":"true"},[r("div",{class:b(["w-full flex flex-row child items-center",t.justify])},[r("div",ve,[t.leftIcon!=""?(s(),F(l,{key:0,name:t.leftIcon,class:b(t.leftIconTheme)},null,8,["name","class"])):S("",!0),t.placeholder==""?(s(),u("p",{key:1,class:b(t.disabled?"text-xs lg:text-sm font-medium text-secondary-300 dark:text-secondary-100":t.text)},f(t.selectedValue?t.selectedValue:e.$t("core.ps_dropdown_select__chooseone")),3)):(s(),u("p",{key:2,class:b(t.disabled?"text-xs lg:text-sm font-medium text-secondary-300 dark:text-secondary-100":t.text)},f(t.selectedValue?t.selectedValue:t.placeholder),3))]),i(l,{name:"downChervon",class:b(["child1",t.disabled?"text-secondary-300 dark:text-secondary-100":t.iconTheme])},null,8,["class"]),i(l,{name:"upChervon",class:b(["child2",t.disabled?"text-secondary-300 dark:text-secondary-100":t.iconTheme])},null,8,["class"])],2)],10,ye)}var xe=L(be,[["render",ke],["__scopeId","data-v-7cf4ab7b"]]);const we=V({name:"PsLabelCaption3",components:{PsLabel:j},props:{textColor:{type:String,default:"text-secondary-800 dark:text-secondaryDark-grey"}}});function Ce(e,n,t,o,_,m){const l=g("ps-label");return s(),F(l,{class:"lg:text-md sm:text-sm text-xs",textColor:e.textColor},{default:d(()=>[B(e.$slots,"default")]),_:3},8,["textColor"])}var Se=L(we,[["render",Ce]]);const Fe=V({name:"PsLabelHeader6",components:{PsLabel:j},props:{textColor:{type:String,default:"text-secondary-800 dark:text-secondaryDark-white"}}});function De(e,n,t,o,_,m){const l=g("ps-label");return s(),F(l,{class:"text-lg font-medium",textColor:e.textColor},{default:d(()=>[B(e.$slots,"default")]),_:3},8,["textColor"])}var Ie=L(Fe,[["render",De]]);const Ae={name:"PsIconToggle",components:{PsIcon:T},props:{selectedValue:{type:Boolean,default:!1},toggleOnTheme:{type:String,default:"bg-secondary-100 text-secondary-800 border border-secondary-100"},toggleOffTheme:{type:String,default:"bg-secondary-800 text-secondary-100 border border-secondary-800"},toggleOnIcon:{type:String,default:"night"},toggleOffIcon:{type:String,default:"day"}},emit:["onChange"],setup(e,n){const t=y(e.selectedValue);function o(){t.value=!t.value,n.emit("onChange")}return{toggle:o,toggleValue:t}}},Le={class:"flex items-center"};function Me(e,n,t,o,_,m){const l=g("ps-icon");return s(),u("div",Le,[o.toggleValue?(s(),u("button",{key:0,class:"text-white",onClick:n[0]||(n[0]=(...c)=>o.toggle&&o.toggle(...c))},[i(l,{name:"sun",textColor:"text-white",class:"",w:"20",h:"20",viewBox:"0 0 20 20"})])):(s(),u("button",{key:1,class:"text-dark",onClick:n[1]||(n[1]=(...c)=>o.toggle&&o.toggle(...c))},[i(l,{name:"moon",textColor:"text-white",class:"",w:"20",h:"20",viewBox:"0 0 20 20"})]))])}var Te=L(Ae,[["render",Me]]);const je=V({name:"PsDangerDialog",components:{PsModal:J,PsLabel:j,PsButton:G,PsIcon:T},setup(){const e=y(),n=y(C("ps_danger_dialog__danger")),t=y(C("ps_danger_dialog__danger_message")),o=y(C("ps_confirm_dialog__yes")),_=y(C("ps_confirm_dialog__no"));let m,l;function c(v){v=="yes"?m():l(),e.value.toggle(!1)}function a(v,w,p,h,D,P){v!=null&&v.trim()!=""&&(n.value=v),w!=null&&w.trim()!=""&&(t.value=w),h!=null&&h.trim()!=""&&(_.value=h),p!=null&&p.trim()!=""&&(o.value=p),e.value.toggle(!0),m=D,l=P}function k(){e.value.toggle(!1)}return{psmodal:e,openModal:a,closeModal:k,title:n,actionClicked:c,okButton:o,cancelButton:_,message:t}}}),Be={class:"flex flex-row items-center"},Pe={class:"w-full text-start mt-2"},Oe={class:"flex flex-row justify-end"};function ze(e,n,t,o,_,m){const l=g("ps-icon"),c=g("ps-label"),a=g("ps-button"),k=g("ps-modal");return s(),F(k,{ref:"psmodal",maxWidth:"480px",line:"hidden",isClickOut:!1,theme:" px-6 py-6 rounded-lg shadow-xl me-3",class:"z-20"},{title:d(()=>[r("div",Be,[i(l,{name:"info",class:"text-red-500 me-2.5"}),i(c,{class:"text-lg font-semibold"},{default:d(()=>[x(f(e.title),1)]),_:1})])]),body:d(()=>[r("div",Pe,[i(c,{class:"font-light text-sm lg:text-base"},{default:d(()=>[x(f(e.message),1)]),_:1})])]),footer:d(()=>[r("div",Oe,[i(a,{rounded:"rounded",onClick:n[0]||(n[0]=v=>e.actionClicked("no")),textSize:"text-xs lg:text-sm",class:"me-4",border:"border border-gray-200 dark:border-secondary-700",colors:"bg-none dark:text-secondary-100",hover:"hover:outline-none hover:ring hover:ring-secondary-100 dark:hover:ring-secondary-600"},{default:d(()=>[x(f(e.cancelButton),1)]),_:1}),i(a,{rounded:"rounded",onClick:n[1]||(n[1]=v=>e.actionClicked("yes")),textSize:"text-xs lg:text-sm",class:"",colors:"bg-red-500 text-white dark:text-textDark",hover:"hover:outline-none hover:ring hover:ring-red-100",focus:"focus:outline-none focus:ring focus:ring-red-300"},{default:d(()=>[x(f(e.okButton),1)]),_:1})])]),_:1},512)}var Ne=L(je,[["render",ze]]);const Ve=V({name:"PsWarningDialog",components:{PsModal:J,PsLabel:j,PsButton:G,PsIcon:T},setup(){const e=y(),n=y(C("ps_warning_dialog__warning")),t=y(C("ps_warning_dialog__warning_message")),o=y(C("ps_confirm_dialog__yes")),_=y(C("ps_confirm_dialog__no"));let m,l;function c(v){v=="yes"?m():l(),e.value.toggle(!1)}function a(v,w,p,h,D,P){v!=null&&v.trim()!=""&&(n.value=v),w!=null&&w.trim()!=""&&(t.value=w),h!=null&&h.trim()!=""&&(_.value=h),p!=null&&p.trim()!=""&&(o.value=p),e.value.toggle(!0),m=D,l=P}function k(){e.value.toggle(!1)}return{psmodal:e,openModal:a,closeModal:k,title:n,actionClicked:c,okButton:o,cancelButton:_,message:t}}}),Ue={class:"flex flex-auto items-center"},$e={class:"w-full text-start mt-2"},Re={class:"flex flex-row justify-end"};function Ge(e,n,t,o,_,m){const l=g("ps-icon"),c=g("ps-label"),a=g("ps-button"),k=g("ps-modal");return s(),F(k,{ref:"psmodal",maxWidth:"480px",line:"hidden",isClickOut:!1,theme:" px-6 py-6 rounded-lg shadow-xl",class:"z-20"},{title:d(()=>[r("div",Ue,[i(l,{name:"alert-triangle",class:"text-yellow-500 me-2.5"}),i(c,{class:"text-lg font-semibold"},{default:d(()=>[x(f(e.title),1)]),_:1})])]),body:d(()=>[r("div",$e,[i(c,{class:"font-light text-sm lg:text-base"},{default:d(()=>[x(f(e.message),1)]),_:1})])]),footer:d(()=>[r("div",Re,[i(a,{rounded:"rounded",onClick:n[0]||(n[0]=v=>e.actionClicked("no")),textSize:"text-xs lg:text-sm",class:"me-2",border:"border border-gray-200",colors:"bg-none",hover:"hover:outline-none hover:ring hover:ring-gray-100"},{default:d(()=>[x(f(e.cancelButton),1)]),_:1}),i(a,{rounded:"rounded",onClick:n[1]||(n[1]=v=>e.actionClicked("yes")),textSize:"text-xs lg:text-sm",class:"",colors:"bg-blue-500 text-white"},{default:d(()=>[x(f(e.okButton),1)]),_:1})])]),_:1},512)}var Ee=L(Ve,[["render",Ge]]);const He={components:{PsIcon:T,PsDropdown:he,PsDropdownSelect:xe,PsLabel:j,Link:R,PsToggle:de,PsButton:G,PsIconToggle:Te,PsLabelHeader6:Ie,PsTextButton:ce,PsLabelCaption3:Se,PsDangerDialog:Ne,PsWarningDialog:Ee},props:["can","defaultProfileImg"],data(){return{show:!1,selectedLanguage:""}},setup(){const e=ae({data:{}}),n=y(!1),t=y(),o=y(),_=y(),m=U(),l=y(localStorage.activeLanguage);async function c(){e.data!=null&&e.data.length>0?await a():(n.value=!0,await a(),n.value=!1)}async function a(){await axios.get(route("contact.getContactFormTitle")).then(h=>{e.data=h.data.contacts,o.value=h.data.unseenCount}).catch(h=>{})}function k(h){t.value.openModal(C("core__delete"),C("core__comfirm_to_delete_contact"),C("core__be_btn_confirm"),C("core__be_btn_cancel"),()=>{z.Inertia.delete(route("contact.destroy",h),{onSuccess:()=>{a()},onError:()=>{}})},()=>{})}function v(){_.value.openModal(C("core__warning"),C("core__comfirm_to_mark_as_read"),C("core__be_btn_confirm"),C("core__be_btn_cancel"),()=>{z.Inertia.put(route("contact.allasread"),{onSuccess:()=>{a()},onError:()=>{}})},()=>{})}function w(h){z.Inertia.get(route("contact.edit",h))}function p(h){re(h.symbol),m.dispatch("handleActiveLanguage",h.symbol)}return{contacts:e,clickMessageButton:c,clickedDeleteContact:k,loading:n,ps_danger_dialog:t,makeAllRead:v,goToDetail:w,count:o,ps_warning_dialog:_,handleLanguage:p,activeLanguage:l}},computed:{...se(["isDarkMode","dir","sidebarNavOpen","sidebarFull","showMenu","supportedLanguages"])},methods:{...le(["handleSidebarFull","handleSidebarNavOpen","handleShowMenu","toggleDir","toggleDarkMode"]),logout(){W.auth().signOut(),this.$inertia.post(route("logout"))},toContact(){this.$inertia.get(route("contact.index"))}}},We={class:"text-secondary-800 dark:text-secondary-100 font-extrabold flex flex-row ps-6"},Je={class:"text-secondary-800 flex items-center"},qe={class:"ms-3 sm:ms-4 lg:ms-6 xxl:ms-8"},Ke={class:"rounded-md shadow-xs w-32"},Qe={class:"pt-2 z-30"},Ye=["onClick"],Xe={class:"rounded-md shadow-xs w-72 sm:w-96 lg:w-140"},Ze={class:"z-30 py-2"},et={class:"w-full items-center px-4 py-2"},tt={class:"flex justify-between"},ot={key:0,class:"text-white text-center ms-2 px-1.5 text-sm py-0.5 rounded-full bg-primary-500"},nt={key:0},at={key:1,class:"h-80 overflow-y-auto"},st=["onClick"],lt={class:"h-8 w-8 sm:w-12 sm:h-12"},rt={width:"20",height:"20",class:"mx-2 h-8 w-8 sm:w-12 sm:h-12 rounded-full ring-2 object-cover",alt:"Profile photo"},it={class:"w-full ms-4"},dt={class:"flex flex-col sm:flex-row sm:justify-between lg:justify-start lg:grid grid-cols-2 text-sm"},ct={class:"truncate w-44 sm:w-68 lg:w-104 overflow-hidden"},ut={key:2},mt={class:"h-8 w-8 rounded-full"},_t=["alt"],gt=["src","alt"],ft={class:"rounded-md shadow-xs w-56"},pt={class:"z-30"},ht={type:"submit",class:"w-56 flex p-4 hover:bg-primary-000 dark:hover:bg-primary-900 cursor-pointer items-center"};function bt(e,n,t,o,_,m){const l=g("ps-icon"),c=g("ps-dropdown-select"),a=g("ps-label"),k=g("ps-dropdown"),v=g("ps-icon-toggle"),w=g("ps-label-caption-3"),p=g("ps-text-button"),h=g("Link"),D=g("ps-danger-dialog"),P=g("ps-warning-dialog"),q=X("lazy");return s(),u("div",{class:b([{"ps-0 xl:ps-76":e.sidebarFull,"ps-0 xl:ps-20":!e.sidebarFull},"fixed transition-all duration-600 bg-white z-50 dark:bg-secondary-800 dark:text-white shadow py-2 pe-6 items-center flex justify-between w-full"])},[r("div",We,[r("button",{onClick:n[0]||(n[0]=I=>{e.handleShowMenu(e.sidebarFull?e.showMenu:!1),e.handleSidebarFull(!e.sidebarFull)}),class:"hidden xl:block"},[i(l,{name:"hamburger"})]),r("button",{onClick:n[1]||(n[1]=I=>{e.handleSidebarNavOpen(!e.sidebarNavOpen),e.handleShowMenu(e.sidebarFull?e.showMenu:!1)}),class:"xl:hidden block"},[i(l,{name:"hamburger"})])]),r("div",Je,[r("div",qe,[i(k,{align:"left"},{select:d(()=>[i(c,{padding:"px-4 py-0.5",selectedValue:e.$page.props.languages.filter(I=>I.symbol==o.activeLanguage)[0].name},null,8,["selectedValue"])]),list:d(()=>[r("div",Ke,[r("div",Qe,[(s(!0),u(O,null,N(e.$page.props.languages,I=>(s(),u("div",{key:I.id,class:"w-56 flex py-4 px-2 hover:bg-primary-000 dark:hover:bg-primary-900 cursor-pointer items-center",onClick:A=>o.handleLanguage(I)},[i(a,{class:b(["ms-2",I.symbol==o.activeLanguage?" font-bold":""])},{default:d(()=>[x(f(I.name),1)]),_:2},1032,["class"])],8,Ye))),128))])])]),_:1})]),i(v,{class:"ms-3 sm:ms-4 lg:ms-6 xxl:ms-8",selectedValue:e.isDarkMode,onOnChange:e.toggleDarkMode},null,8,["selectedValue","onOnChange"]),i(k,{horizontalAlign:"right",class:"ms-3 sm:ms-4 lg:ms-6 xxl:ms-8 w-full",h:"h-auto"},{select:d(()=>[i(l,{onClick:o.clickMessageButton,name:"email",class:"text-secondary-800 dark:text-secondary-100 cursor-pointer text-"},null,8,["onClick"])]),list:d(()=>{var I;return[r("div",Xe,[r("div",Ze,[r("div",et,[r("div",tt,[i(a,{class:"text-md lg:text-lg",textColor:"text-secondary-800 dark:text-secondary-100"},{default:d(()=>[x(f(e.$t("core__be_messages")),1)]),_:1}),e.$page.props.can.updateContact?(s(),F(a,{key:0,onClick:o.makeAllRead,class:"text-xs sm:text-sm cursor-pointer",textColor:"text-primary-500"},{default:d(()=>[x(f(e.$t("core__be_mark_all_as_read")),1)]),_:1},8,["onClick"])):S("",!0)]),i(a,{textColor:"text-sm sm:text-md text-primary-500 mt-4 lg:mt-6 mb-2"},{default:d(()=>[x(f(e.$t("core__be_new_messages")),1),o.count>0?(s(),u("span",ot,f(o.count),1)):S("",!0)]),_:1}),x(" "+f(o.contacts.data.newMessageCount),1)]),o.loading?(s(),u("div",nt,[i(a,{class:"text-center py-6"},{default:d(()=>[x(f(e.$t("core__be_loading")),1)]),_:1})])):((I=o.contacts.data)==null?void 0:I.length)>0?(s(),u("div",at,[(s(!0),u(O,null,N(o.contacts.data,A=>{var K;return s(),u("div",{key:A.id,class:"cursor-pointer"},[r("div",{class:b([A.is_read==0?"bg-primary-50 dark:bg-primary-900":"bg-secondary-50 dark:bg-secondary-900 ","rounded py-3 px-4 mb-2 text-base inline-flex items-center w-full shadow-sm"])},[r("div",{class:"flex flex-row w-full items-center",onClick:oe=>o.goToDetail(A.id)},[r("div",lt,[H(r("img",rt,null,512),[[q,{src:e.$page.props.uploadUrl+"/"+((K=A.owner)==null?void 0:K.user_cover_photo),loading:e.$page.props.sysImageUrl+"/loading_gif.gif",error:e.$page.props.sysImageUrl+"/default_profile.png"}]])]),r("span",it,[r("span",dt,[i(a,{class:"font-semibold text-xs sm:text-sm"},{default:d(()=>[x(f(A.contact_name),1)]),_:2},1024),i(w,null,{default:d(()=>[x(f(e.$t("core__be_by"))+" : "+f(A.contact_email),1)]),_:2},1024)]),r("div",ct,[i(w,{class:"truncate w-44 sm:w-68 lg:w-104"},{default:d(()=>[x(f(A.contact_message),1)]),_:2},1024)])])],8,st),A.authorization.delete?(s(),F(l,{key:0,name:"close",onClick:oe=>o.clickedDeleteContact(A.id),class:"text-secondary-400 text-sm ms-auto justify-end my-auto focus:shadow-none hover:text-purple-500"},null,8,["onClick"])):S("",!0)],2)])}),128))])):(s(),u("div",ut,[i(a,{class:"text-center py-6"},{default:d(()=>[x(f(e.$t("core__be_no_contact_message")),1)]),_:1})])),i(p,{class:"w-full justify-center m-3",textColor:"text-primary-500",onClick:n[2]||(n[2]=A=>m.toContact())},{default:d(()=>[x(f(e.$t("core__be_view_all_message")),1)]),_:1})])])]}),_:1}),i(k,{horizontalAlign:"right",class:"ms-3 sm:ms-4 lg:ms-6 xxl:ms-8 w-full",h:"h-auto"},{select:d(()=>{var I,A;return[r("div",mt,[(I=e.$page.props.authUser)!=null&&I.user_cover_photo?H((s(),u("img",{key:0,class:"object-cover h-8 w-8 rounded-full cursor-pointer",alt:e.$t("core__be_profile")},null,8,_t)),[[q,{src:e.$page.props.uploadUrl+"/"+((A=e.$page.props.authUser)==null?void 0:A.user_cover_photo),loading:e.$page.props.sysImageUrl+"/loading_gif.gif",error:e.$page.props.sysImageUrl+"/default_profile.png"}]]):(s(),u("img",{key:1,class:"object-cover h-8 w-8 rounded-full cursor-pointer",src:e.$page.props.uploadUrl+"/default_profile.png",alt:e.$t("core__be_profile")},null,8,gt))])]}),list:d(()=>[r("div",ft,[r("div",pt,[i(h,{href:e.route("user.profile.edit",e.$page.props.user),class:"w-56 flex p-4 hover:bg-primary-000 dark:hover:bg-primary-900 cursor-pointer items-center"},{default:d(()=>[i(l,{name:"user-line"}),i(a,{class:"ms-2"},{default:d(()=>[x(f(e.$t("core__be_profile")),1)]),_:1})]),_:1},8,["href"]),i(h,{href:e.route("dashboard"),class:"w-56 flex p-4 hover:bg-primary-000 dark:hover:bg-primary-900 cursor-pointer items-center"},{default:d(()=>[i(l,{name:"refresh"}),i(a,{class:"ms-2"},{default:d(()=>[x(f(e.$t("core__be_switch_to_fe")),1)]),_:1})]),_:1},8,["href"]),r("form",{onSubmit:n[3]||(n[3]=ie((...I)=>m.logout&&m.logout(...I),["prevent"]))},[r("button",ht,[i(l,{name:"signOut"}),i(a,{class:"ms-2"},{default:d(()=>[x(f(e.$t("core__be_logout")),1)]),_:1})])],32)])])]),_:1})]),i(D,{ref:"ps_danger_dialog"},null,512),i(P,{ref:"ps_warning_dialog"},null,512)],2)}var yt=L(He,[["render",bt]]);const vt=V({components:{PsModal:J,PsLabel:j,PsButton:G,PsIcon:T},setup(){const e=y(),n=y(C("ps_success_dialog__success")),t=y(C("ps_success_dialog__success_message")),o=y(C("ps_confirm_dialog__yes"));let _;function m(){e.value.toggle(!1),_()}function l(a,k,v,w){n.value=a,t.value=k.toString(),o.value=v,e.value.toggle(!0),_=w}function c(){e.value.toggle(!1)}return{psmodal:e,title:n,message:t,openModal:l,actionClicked:m,okButton:o,close:c}}}),kt={class:"flex flex-col text-center justify-center items-center text-gray-300"},xt={class:"w-full text-center mt-4"},wt={class:"flex justify-center mt-6"},Ct={class:"flex-grow-0"};function St(e,n,t,o,_,m){const l=g("ps-icon"),c=g("ps-label"),a=g("ps-button"),k=g("ps-modal");return s(),F(k,{ref:"psmodal",maxWidth:"450px",line:"hidden",isClickOut:!1,theme:" px-6 py-7 rounded-lg shadow-xl",class:"z-20"},{title:d(()=>[i(l,{onClick:n[0]||(n[0]=v=>e.close()),name:"close",class:"text-sm text-secondary-400 ms-auto my-auto focus:shadow-none hover:text-purple-500 flex justify-end"}),r("div",kt,[i(l,{class:"flex-grow-0",name:"alert-triangle",w:"86",h:"86"}),i(c,{class:"font-medium text-xl lg:text-2xl mt-3"},{default:d(()=>[x(f(e.title),1)]),_:1})])]),body:d(()=>[r("div",xt,[i(c,{class:"font-light text-sm lg:text-base"},{default:d(()=>[x(f(e.message),1)]),_:1})])]),footer:d(()=>[r("div",wt,[r("div",Ct,[i(a,{rounded:"rounded",onClick:n[1]||(n[1]=v=>e.actionClicked()),textSize:"text-sm",class:"",colors:"bg-red-500 text-white",hover:"hover:outline-none hover:ring hover:ring-red-100",focus:"focus:outline-none focus:ring focus:ring-red-300"},{default:d(()=>[x(f(e.okButton),1)]),_:1})])])]),_:1},512)}var ee=L(vt,[["render",St]]);const Ft={components:{PsLabel:j,PsIcon:T,PsErrorDialog:ee},props:{icon:{type:String,default:""},hasModule:{type:Boolean,default:!1},showIcon:{type:Boolean,default:!1},name:{type:String,default:""},noti:{type:String,default:""},showGroupIcon:{type:Boolean,default:!0},defaultTheme:{type:String,default:"text-secondary-800 bg-primary-50 hover:bg-primary-200 dark:hover:bg-primary-200 dark:hover:text-secondary-800 dark:text-secondary-100 dark:bg-secondary-900 "},activeTheme:{type:String,default:"text-secondary-50 bg-primary-500 dark:text-secondary-900"},rounded:{type:String,default:"rounded-lg"},padding:{type:String,default:"p-2"},url:{type:String,default:""},dropdownActive:{type:Boolean,default:!1}},setup(e){const n=U(),t=M(()=>n.getters.sidebarFull),o=M(()=>n.getters.sidebarActive),_=y();function m(c){n.dispatch("handleSidebarFull",c)}function l(){if(!e.hasModule)try{z.Inertia.get(route(e.url)),n.dispatch("handleSidebarActive",e.name)}catch(c){_.value.openModal("Can't go to "+e.url,c.message,"Retry",()=>{l()})}m(!0)}return{sidebarFull:t,sidebarActive:o,handleSidebarFull:m,menuClick:l,ps_error_dialog:_}}},Dt={class:"relative flex flex-row items-center"},It={class:"relative"},At={class:"flex flex-col items-center"},Lt={key:1,class:""};function Mt(e,n,t,o,_,m){const l=g("ps-icon"),c=g("ps-label"),a=g("ps-error-dialog");return s(),F(c,null,{default:d(()=>[r("button",{type:"submit",onClick:n[0]||(n[0]=(...k)=>o.menuClick&&o.menuClick(...k)),class:b(["w-full justify-between flex cursor-pointer",{"justify-start ":o.sidebarFull,"sm:justify-center ":!o.sidebarFull,[t.activeTheme]:t.hasModule==!1&&o.sidebarActive==t.name||t.hasModule==!0&&t.dropdownActive==!0,[t.defaultTheme]:!(t.hasModule==!1&&o.sidebarActive==t.name||t.hasModule==!0&&t.dropdownActive==!0),[t.rounded]:!0,[t.padding]:!0}])},[r("div",Dt,[r("div",It,[t.noti!=""?(s(),u("div",{key:0,class:b([o.sidebarFull?"hidden":"","absolute w-1.5 h-1.5 ms-3 bg-red-500 rounded-full"])},null,2)):S("",!0),r("div",At,[t.showIcon?(s(),F(l,{key:0,class:"mx-auto my-auto",w:o.sidebarFull?"24":"20",h:o.sidebarFull?"24":"20",name:t.icon},null,8,["w","h","name"])):S("",!0)])]),r("span",{class:b([o.sidebarFull?"":"sm:hidden","ms-5 me-2 text-base"])},f(t.name),3)]),r("div",{class:b([o.sidebarFull?"":"sm:hidden","flex justify-center my-auto"])},[t.noti!=""?(s(),F(c,{key:0,class:b(["ms-2 me-2 text-xxs rounded-full text-center",{"text-primary-500":o.sidebarActive==t.name,"bg-primary-500  text-white":o.sidebarActive!=t.name,"w-6 h-6 pt-1.5":parseInt(t.noti)>99,"w-5 h-5 pt-1":parseInt(t.noti)>9,"w-4 h-4 pt-0.5":parseInt(t.noti)<9}])},{default:d(()=>[x(f(parseInt(t.noti)>99?"99+":t.noti),1)]),_:1},8,["class"])):S("",!0),t.showGroupIcon?(s(),u("div",Lt,[t.dropdownActive?(s(),F(l,{key:1,name:"upChervon",class:"me-1"})):(s(),F(l,{key:0,name:"downChervon"}))])):S("",!0)],2)],2),i(a,{ref:"ps_error_dialog"},null,512)]),_:1})}var te=L(Ft,[["render",Mt]]);const Tt={components:{PsLabel:j,PsIcon:T,PsErrorDialog:ee},props:{icon:{type:String,default:""},showIcon:{type:Boolean,default:!1},name:{type:String,default:""},url:{type:String,default:""},noti:{type:String,default:""},showGroupIcon:{type:Boolean,default:!0},defaultTheme:{type:String,default:"text-secondary-800 bg-primary-50 hover:bg-primary-200 dark:hover:bg-primary-200 dark:hover:text-secondary-800 dark:text-secondary-100 dark:bg-secondary-900 "},activeTheme:{type:String,default:"text-secondary-50 bg-primary-500 dark:text-secondary-900"},rounded:{type:String,default:"rounded-lg"},padding:{type:String,default:"p-2"}},setup(e){const n=U(),t=y(M(()=>n.getters.sidebarFull)),o=y(M(()=>n.getters.sidebarActive)),_=y(!1),m=y();function l(a){n.dispatch("handleSidebarFull",a)}function c(){try{z.Inertia.get(route(e.url)),n.dispatch("handleSidebarActive",e.name),_.value=!_.value,l(!0)}catch(a){m.value.openModal("Can't go to "+e.url,a.message,"Retry",()=>{c()})}}return{sidebarFull:t,sidebarActive:o,isDropdownActive:_,handleSidebarFull:l,clickedButton:c,ps_error_dialog:m}}},jt={class:"relative items-center ps-10"},Bt={key:1,class:""};function Pt(e,n,t,o,_,m){const l=g("ps-label"),c=g("ps-icon"),a=g("ps-error-dialog");return s(),F(l,null,{default:d(()=>[r("div",{onClick:n[0]||(n[0]=(...k)=>o.clickedButton&&o.clickedButton(...k)),class:b(["w-full justify-between flex cursor-pointer",{"justify-start":o.sidebarFull,"sm:justify-center":!o.sidebarFull,[t.activeTheme]:o.sidebarActive==t.name,[t.defaultTheme]:o.sidebarActive!=t.name,[t.rounded]:!0,[t.padding]:!0}])},[r("div",jt,[r("span",{class:b([o.sidebarFull?"":"sm:hidden","me-2 text-base"])},f(t.name),3)]),r("div",{class:b([o.sidebarFull?"":"sm:hidden","flex justify-center my-auto"])},[t.noti!=""?(s(),F(l,{key:0,class:b(["ms-2 me-2 text-xxs rounded-full text-center",{"text-primary-500":o.sidebarActive==t.name,"bg-primary-500  text-white":o.sidebarActive!=t.name,"w-6 h-6 pt-1.5":parseInt(t.noti)>99,"w-5 h-5 pt-1":parseInt(t.noti)>9,"w-4 h-4 pt-0.5":parseInt(t.noti)<9}])},{default:d(()=>[x(f(parseInt(t.noti)>99?"99+":t.noti),1)]),_:1},8,["class"])):S("",!0),t.showGroupIcon?(s(),u("div",Bt,[o.isDropdownActive?(s(),F(c,{key:1,name:"upChervon"})):(s(),F(c,{key:0,name:"downChervon"}))])):S("",!0)],2)],2),i(a,{ref:"ps_error_dialog"},null,512)]),_:1})}var Ot=L(Tt,[["render",Pt]]);const zt={props:["group","searchterm","dropDown"],components:{Link:R,Head:Z,SideBarTab:te,SidebarSubTab:Ot},setup(e,{emit:n}){const t=U(),o=M(()=>t.getters.sidebarFull),_=y(M(()=>t.getters.sidebarActive)),m=y(""),l=y(!1);$(()=>{if(e.group&&e.group.module&&e.group.module!=""){for(let a=0;a<e.group.module.length;a++){let k=e.group.module[a].module_lang_key;setTimeout(()=>{m.value=C(k),m.value==_.value&&n("update:dropDown",e.group.sub_menu_lang_key)},200)}l.value=!0}else l.value=!0});function c(){e.group.sub_menu_lang_key!=e.dropDown?n("update:dropDown",e.group.sub_menu_lang_key):n("update:dropDown","0")}return{sidebarFull:o,sidebarActive:_,sidebarId:m,dataReady:l,clickSidebarTab:c}}},Nt={key:0,class:"relative"},Vt={key:0},Ut={key:1},$t={key:0},Rt={key:2},Gt={key:0},Et={key:1};function Ht(e,n,t,o,_,m){const l=g("side-bar-tab"),c=g("sidebar-sub-tab");return o.dataReady?(s(),u("div",Nt,[t.group.module!=""?(s(),u("div",{key:0,onClick:n[0]||(n[0]=(...a)=>o.clickSidebarTab&&o.clickSidebarTab(...a))},[t.group.is_dropdown==1?(s(),u("div",Vt,[t.searchterm==null||t.group.module.filter(a=>e.$t(a.module_lang_key).toLowerCase().trim().includes(t.searchterm.toLowerCase().trim())).length>0?(s(),F(l,{key:0,dropdownActive:t.group.sub_menu_lang_key==t.dropDown,name:e.$t(t.group.sub_menu_lang_key),showIcon:!0,icon:t.group.icon.icon_name,noti:t.group.sub_menu_noti,hasModule:!0},null,8,["dropdownActive","name","icon","noti"])):S("",!0)])):S("",!0)])):(s(),u("div",Ut,[t.group.is_dropdown!=1?(s(),u("div",$t,[t.searchterm==null||e.$t(t.group.sub_menu_lang_key).toLowerCase().trim().includes(t.searchterm.toLowerCase().trim())?(s(),F(l,{key:0,dropdownActive:t.group.sub_menu_lang_key==t.dropDown,name:e.$t(t.group.sub_menu_lang_key),showIcon:!0,icon:t.group.icon.icon_name,noti:t.group.sub_menu_noti,showGroupIcon:!1,url:t.group.route_name?t.group.route_name.route_name:""},null,8,["dropdownActive","name","icon","noti","url"])):S("",!0)])):S("",!0)])),t.group.module!=""?(s(),u("div",Rt,[t.group.sub_menu_lang_key==t.dropDown?(s(),u("div",{key:0,class:b(["mb-2 transition ease-in-out delay-150",o.sidebarFull?"":"sm:hidden"])},[t.searchterm==null?(s(),u("div",Gt,[(s(!0),u(O,null,N(t.group.module,a=>(s(),u("div",{class:"mt-2",key:a.id},[i(c,{name:e.$t(a.module_lang_key),url:a.route_name?a.route_name.route_name:"",showGroupIcon:!1,noti:a.module_noti},null,8,["name","url","noti"])]))),128))])):(s(),u("div",Et,[(s(!0),u(O,null,N(t.group.module.filter(a=>e.$t(a.module_lang_key).toLowerCase().trim().includes(t.searchterm.toLowerCase().trim())),a=>(s(),u("div",{class:"mt-2",key:a.id},[i(c,{name:e.$t(a.module_lang_key),url:a.route_name?a.route_name.route_name:"",showGroupIcon:!1,noti:a.module_noti},null,8,["name","url","noti"])]))),128))]))],2)):S("",!0)])):S("",!0)])):S("",!0)}var Wt=L(zt,[["render",Ht]]);const Jt={components:{Link:R,SidebarMenuItem:Wt,SideBarTab:te,PsLabel:j,PsIcon:T,PsInputWithRightIcon:ue},setup(){const e=y(""),n=U(),t=M(()=>n.getters.sidebarNavOpen),o=M(()=>n.getters.sidebarFull),_=y(M(()=>n.getters.sidebarActive)),m=y("0");function l(v){n.dispatch("handleSidebarNavOpen",v)}function c(v){n.dispatch("handleSidebarFull",v)}const a=y(null);function k(){localStorage.sidebarScroll=a.value.scrollTop}return Y(()=>{}),$(()=>{a.value.addEventListener("scroll",k),localStorage.sidebarScroll!=null&&setTimeout(()=>{a.value.scrollTo(0,parseInt(localStorage.sidebarScroll))},1e3)}),{searchterm:e,sidebarNavOpen:t,handleSidebarFull:c,sidebarFull:o,sidebarActive:_,dropDownOpen:m,handleSidebarNavOpen:l,sidebarMenuC:a}}},qt={class:"grid grid-cols-1 divide-y-4"},Kt={class:""},Qt={key:0},Yt={key:1},Xt={key:2},Zt={key:3},eo={class:"flex items-center justify-center my-2 py-2"};function to(e,n,t,o,_,m){const l=g("Link"),c=g("ps-label"),a=g("ps-icon"),k=g("ps-input-with-right-icon"),v=g("sidebar-menu-item"),w=X("lazy");return s(),u("div",{ref:"sidebarMenuC",class:b(["h-screen bg-primary-50 dark:border-gray-600 dark:bg-secondary-900 text-secondary-800 dark:text-secondary-100 transition-all duration-30 p-4 fixed xl:relative overflow-y-scroll overflow-x-hidden scroll-smooth",{"w-76":o.sidebarFull,"w-76 xl:w-20":!o.sidebarFull,"top-0 start-0":o.sidebarNavOpen,"top-0 -left-76 xl:left-0":!o.sidebarNavOpen}])},[r("div",{class:b(["flex flex-row ms-1 mt-4 justify-center xl:ms-0",o.sidebarFull?"ps-2 pe-2":""])},[i(l,{href:e.route("admin.index"),class:"flex flex-row"},{default:d(()=>[e.$page.props.backendLogo?(s(),u("div",{key:0,class:b(["rounded-lg pe-1",o.sidebarFull?"h-12 w-12":"w-8 h-8"])},[H(r("img",{class:b(["rounded-lg object-contain",o.sidebarFull?"h-12 w-12":"w-8 h-8"])},null,2),[[w,{src:e.$page.props.uploadUrl+"/"+e.$page.props.backendLogo.img_path,loading:e.$page.props.sysImageUrl+"/loading_gif.gif",error:e.$page.props.sysImageUrl+"/default_photo.png"}]])],2)):S("",!0)]),_:1},8,["href"])],2),r("div",{class:b(["flex flex-row justify-center mt-4",(o.sidebarFull,"")])},[i(c,{class:b(["text-base font-semibold",o.sidebarFull?"ms-1 mt-1":"xl:hidden"])},{default:d(()=>[x(f(e.$t("site_name")),1)]),_:1},8,["class"])],2),r("div",{class:b(["mt-5 mb-5",o.sidebarFull?"flex":"flex xl:hidden"])},[i(k,{value:o.searchterm,"onUpdate:value":n[0]||(n[0]=p=>o.searchterm=p),theme:"bg-white dark:bg-secondaryDark-black border-none rounded-lg placeholder-secondary-800 dark:placeholder-secondary-200",class:"w-full rounded-full flex",placeholder:e.$t("core__be_search")},{icon:d(()=>[i(a,{name:"search",class:"cursor-pointer",theme:"text-secondary-800 dark:text-secondary-200"})]),_:1},8,["value","placeholder"])],2),r("div",{class:b(["rounded-lg p-1 mt-6 mb-8 w-full flex items-center text-secondary-800 bg-primary-50 hover:bg-primary-200 dark:hover:bg-secondary-700 dark:text-secondary-300 dark:bg-secondary-900",o.sidebarFull?"hidden":"hidden xl:flex"]),onClick:n[1]||(n[1]=(...p)=>o.handleSidebarFull&&o.handleSidebarFull(...p))},[i(a,{name:"search",class:"cursor-pointer",w:"20",h:"20"})],2),r("div",qt,[r("div",Kt,[(s(!0),u(O,null,N(e.$page.props.menuGroups,p=>(s(),u("div",{key:p.id},[o.searchterm==null&&p.is_invisible_group_name!=1?(s(),F(c,{key:0,class:b([{flex:o.sidebarFull,hidden:!o.sidebarFull},"mt-4 mb-2"])},{default:d(()=>[x(f(e.$t(p.group_lang_key)),1)]),_:2},1032,["class"])):p.is_invisible_group_name!=1?(s(),F(c,{key:1,class:b([{flex:o.sidebarFull,hidden:!o.sidebarFull},"mt-4 mb-2"])},{default:d(()=>[e.$t(p.group_lang_key).toLowerCase().trim().includes(o.searchterm.toLowerCase().trim())?(s(),u("span",Qt,f(e.$t(p.group_lang_key)),1)):p.sub_menu_group.filter(h=>e.$t(h.sub_menu_lang_key).toLowerCase().trim().includes(o.searchterm.toLowerCase().trim())).length>0?(s(),u("span",Yt,f(e.$t(p.group_lang_key)),1)):p.sub_menu_group.filter(h=>h.is_dropdown==1&&h.module.filter(D=>e.$t(D.module_lang_key).toLowerCase().trim().includes(o.searchterm.toLowerCase().trim())).length>0).length>0?(s(),u("span",Xt,f(e.$t(p.group_lang_key)),1)):(s(),u("span",Zt))]),_:2},1032,["class"])):S("",!0),(s(!0),u(O,null,N(p.sub_menu_group,h=>(s(),u("div",{key:h.id,class:"mt-2"},[i(v,{dropDown:o.dropDownOpen,"onUpdate:dropDown":n[2]||(n[2]=D=>o.dropDownOpen=D),group:h,searchterm:o.searchterm},null,8,["dropDown","group","searchterm"])]))),128))]))),128))]),r("div",eo,[i(c,{class:b(["text-xs font-regular",o.sidebarFull?"ms-1 mt-1":"xl:hidden"]),textColor:"text-gray-500"},{default:d(()=>[x(f(e.$t("core__be_version"))+" "+f(e.$page.props.backendSetting.backend_version_no),1)]),_:1},8,["class"])])])],2)}var oo=L(Jt,[["render",to]]);const no=V({components:{TitleBar:yt,SidebarMenu:oo,Head:Z,Link:R},props:["title","project","firebaseConfig"],setup(e){const n=JSON.parse(e.firebaseConfig);W.apps.length<1&&W.initializeApp(n);const t=U(),o=M(()=>t.getters.isDarkMode),_=M(()=>t.getters.sidebarFull),m=M(()=>t.getters.dir);function l(){t.dispatch("handleSidebarNavOpen",!1)}$(()=>{var a=document.getElementById("home_loading__container");a.style.display="none";const v=Q().props.value.currentRoute.split(".")[0],w=Q().props.value.menuGroups;if(v=="admin"){const p="core__be_dashboard_label";localStorage.sidebarScroll=0,setTimeout(()=>{t.dispatch("handleSidebarActive",C(p))},100)}else for(let p=0;p<w.length;p++)for(let h=0;h<w[p].sub_menu_group.length;h++)if(w[p].sub_menu_group[h].module.length>0){for(let D=0;D<w[p].sub_menu_group[h].module.length;D++)if(w[p].sub_menu_group[h].module[D].module_name==v){const P=w[p].sub_menu_group[h].module[D].module_lang_key;setTimeout(()=>{t.dispatch("handleSidebarActive",C(P))},100)}}else if(w[p].sub_menu_group[h].sub_menu_name==v){const D=w[p].sub_menu_group[h].sub_menu_lang_key;setTimeout(()=>{t.dispatch("handleSidebarActive",C(D))},100)}t.dispatch("loadIsDarkMode"),t.dispatch("loadActiveLanguage"),t.dispatch("loadDirectory")}),z.Inertia.on("start",a=>{t.dispatch("handleSidebarNavOpen",!1)});function c(){return localStorage.activeLanguage!=null&&localStorage.activeLanguage!=null&&localStorage.activeLanguage=="ar"?"rtl":"ltr"}return{getDir:c,isDarkMode:o,dir:m,sidebarFull:_,clickOutsideSidebar:l}}}),ao={key:0,class:"z-50 p-1 w-full text-white-50 bg-red-100 h-8 fixed top-0 text-center"},so=["href"],lo=["dir"],ro={class:"flex-grow w-full flex flex-col dark:bg-secondaryDark-black dark:text-textLight"},io={class:"h-full px-4 transition-all duration-600 overflow-x-hidden overflow-y-auto scroll-smooth"},co={class:"pb-18"};function uo(e,n,t,o,_,m){const l=g("Head"),c=g("title-bar"),a=g("sidebar-menu");return s(),u(O,null,[e.project.ps_license_code?S("",!0):(s(),u("small",ao," \u26A0Please Activate Your Application!\u26A0 ")),i(l,null,{default:d(()=>[e.$page.props.favIcon?(s(),u("link",{key:0,rel:"icon",type:"image/svg+xml",href:e.$page.props.uploadUrl+"/"+e.$page.props.favIcon.img_path},null,8,so)):S("",!0)]),_:1}),r("div",{class:b(["flex flex-row",e.isDarkMode?"dark":""]),dir:e.getDir()},[r("div",ro,[r("div",{onClick:n[0]||(n[0]=(...k)=>e.clickOutsideSidebar&&e.clickOutsideSidebar(...k)),style:E([e.project.ps_license_code?"":"margin-top: 24px !important;"]),class:b([{"xl:ms-76 ms-0":e.sidebarFull,"ms-0 xl:ms-20":!e.sidebarFull},"h-screen pt-18"])},[r("div",io,[r("div",co,[B(e.$slots,"default")])])],6)]),r("div",{class:"fixed",style:E([e.project.ps_license_code?"":"top: 24px !important;"])},[i(c)],4),r("div",{class:"min-h-screen antialiased flex fixed ltr:left-0 rtl:right-0",style:E([e.project.ps_license_code?"":"top: 24px !important;"])},[i(a)],4)],10,lo)],64)}var xo=L(no,[["render",uo]]);export{he as P,xe as a,Ie as b,Se as c,xo as d,Ne as e,Ee as f,ee as g};
